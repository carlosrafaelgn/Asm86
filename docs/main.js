"use strict";
function isEmpty(a){return(a===undefined||a===null)}function seal$(a){if(Object.seal){Object.seal(a)}return a}function freeze$(a){if(Object.freeze){Object.freeze(a)}return a}function $(a){return document.getElementById(a)}function List(a){this._list=new Array();switch(arguments.length){case 0:break;case 1:if(arguments[0] instanceof Array){this._list=arguments[0].slice(0)}else{if(arguments[0] instanceof List){this._list=arguments[0].toArray()}}break;default:Array.prototype.push.apply(this._list,arguments);break}freeze$(this)}List.prototype={getItem:function(a){return this._list[a]},setItem:function(a,c){var b,d=this._list;if(a<0||a>=d.length){return undefined}b=d[a];d[a]=c;return b},add:function(b,a){var d,c,e=this._list;if(arguments.length<2||b<0||b>e.length){return e.length}d=0;c=(arguments.length-1);if(b===e.length){for(;d<c;d++){e.push(arguments[d+1])}}else{for(;d<c;d++){e.splice(b++,0,arguments[d+1])}}return e.length},addFirst:function(a){return Array.prototype.unshift.apply(this._list,arguments)},addLast:function(a){return Array.prototype.push.apply(this._list,arguments)},remove:function(a,b){var d=this._list,e=((b===undefined)?1:b);if(a<0||(a+e)>d.length){return d.length}d.splice(a,e);return d.length},removeFirst:function(a){var b=this._list;if(a===undefined||a===1){b.shift()}else{if(a<=b.length){b.splice(0,a)}}return b.length},removeLast:function(a){var b=this._list;if(a===undefined||a===1){b.pop()}else{if(a<=b.length){b.splice(b.length-a,a)}}return b.length},join:function(a){return this._list.join(a)},slice:function(b,a){return new List(this._list.slice(b,a))},isEmpty:function(){return(this._list.length===0)},indexOf:function(c){var b,d=this._list,a=d.length;for(b=0;b<a;b++){if(d[b]===c){return b}}return -1},lastIndexOf:function(b){var a,c=this._list;for(a=c.length-1;a>=0;a--){if(c[a]===b){return a}}return -1},clear:function(){this._list.splice(0,this._list.length);return 0},count:function(){return this._list.length},toArray:function(){return this._list.slice(0)},toString:function(){return this._list.toString()},toLocaleString:function(){return this._list.toLocaleString()}};freeze$(List.prototype);window._isTouch=(("ontouchend" in document)?true:false);window.Elem={itemHeight:0,treeControlHeight:0,controlHeight:0,smallControlHeight:0,iconHeight:0,_ratioPt:0,_ratioEm:0,_nextId:0,newId:function(){return"_"+(Elem._nextId++)},setLabelledBy:function(a,b){if(!a.id||!a.id.length){a.id=Elem.newId()}b.setAttribute("aria-labelledby",a.id);return a},prepareTextControlLabel:function(c,g,d,e,b){var f=document.createElement("div"),a=document.createElement("label");a.className=(d?("LBL TXTLBL "+d):"LBL TXTLBL");if(b){f.className=b}if(e){g.style.width=Elem.dim(e)}a.appendChild(document.createTextNode(c));f.appendChild(a);f.appendChild(document.createElement("br"));g.parentNode.insertBefore(f,g);g.parentNode.removeChild(g);f.appendChild(g);if(g.id&&g.id.length){a.setAttribute("for",g.id)}return Elem.setLabelledBy(a,g)},_model_isVisible:function(){return this._isVisible},_model_setVisible:function(b){var a=!!b;if(a!==this._isVisible){this._isVisible=a;this.onVisibleChanged.notify(this,a)}return a},_model_VisibleChanged:function(a,b){Elem.showHide(this.getBaseElement(),b);return true},prepareModelVisibility:function(a){a._isVisible=true;a.isVisible=Elem._model_isVisible;a.setVisible=Elem._model_setVisible;a.onVisibleChanged=new ObserverList();return a},prepareViewVisibility:function(b,a){if(b.onVisibleChanged){b.onVisibleChanged.attach(Elem._model_VisibleChanged,a)}return b},create:function(a,c,d){var b=document.createElement(a);if(d){b.id=d}if(c){c.appendChild(b)}return b},replace:function(a,c){var b=document.createElement(a),d=c.id;c.removeAttribute("id");b.id=d;c.parentNode.replaceChild(b,c);return b},tableBody:function(b){var a=b.getElementsByTagName("tbody");if(!a||!a[0]){a=document.createElement("tbody");b.appendChild(a);return a}return a[0]},leftTop:function(a){var c,b;if(a.getBoundingClientRect){c=a.getBoundingClientRect();b=c.top+window.pageYOffset;c=c.left+window.pageXOffset}else{c=0;b=0;while(a){c+=a.offsetLeft;b+=a.offsetTop;a=a.offsetParent}}return[c,b]},addStyle:function(a,b){if(a.classList){a.classList.add(b)}else{var d=a.className;if(isEmpty(d)){a.className=b}else{d=trim(d);if(d.length<1){a.className=b}else{if(d!=b){if(d.lastIndexOf(" "+b+" ")<0&&d.substr(0,b.length+1)!=(b+" ")&&d.substr(d.length-b.length-1)!=(" "+b)){a.className+=" "+b}}}}}return a},removeStyle:function(b,d){if(b.classList){b.classList.remove(d)}else{var a,e=trim(b.className);if(!isEmpty(e)&&e.length>0){if(e==d){b.className=""}else{a=e.lastIndexOf(" "+d+" ");if(a>=0){b.className=e.substr(0,a)+e.substr(a+d.length+1)}else{if(e.substr(0,d.length+1)==(d+" ")){b.className=e.substr(d.length+1)}else{if(e.substr(e.length-d.length-1)==(" "+d)){b.className=e.substr(0,e.length-d.length-1)}}}}}}return b},move:function(b,a,c){b.style.left=a+"px";b.style.top=c+"px";return b},show:function(a){Elem.removeStyle(a,"_HID");a.removeAttribute("aria-hidden");return a},hide:function(a){Elem.addStyle(a,"_HID");a.setAttribute("aria-hidden","true");return a},showHide:function(b,a){if(a){Elem.removeStyle(b,"_HID");b.removeAttribute("aria-hidden")}else{Elem.addStyle(b,"_HID");b.setAttribute("aria-hidden","true")}return b},setVisible:function(a,b){if(b){Elem.removeStyle(a,"_VHID");a.removeAttribute("aria-hidden")}else{Elem.addStyle(a,"_VHID");a.setAttribute("aria-hidden","true")}return a},_button_Key:function(a){switch(a.keyCode){case 13:case 32:this.click();return cancelEvent(a)}return true},_button_MouseDown:function(a){if(!a.button){this.focus();if(!_cssUserSelection){return cancelEvent(a)}}return true},_document_MouseDownT:function(a){return true},setRect:function(b,a){b.style.position="absolute";if("top" in a){b.style.top=Elem.dim(a.top)}if("right" in a){b.style.right=Elem.dim(a.right)}if("bottom" in a){b.style.bottom=Elem.dim(a.bottom)}if("left" in a){b.style.left=Elem.dim(a.left)}return b},dim:function(a){if(typeof a==="number"){return((a*Elem._ratioEm)|0)+"px"}if(a.indexOf("em")>0){return((parseFloat(a)*Elem._ratioEm)|0)+"px"}if(a.indexOf("pt")>0){return((parseInt(a)*Elem._ratioPt)|0)+"px"}return a},dimnum:function(a){if(typeof a==="number"){return((a*Elem._ratioEm)|0)}if(a.indexOf("em")>0){return((parseFloat(a)*Elem._ratioEm)|0)}if(a.indexOf("pt")>0){return((parseInt(a)*Elem._ratioPt)|0)}return(parseInt(a)|0)},em2px:function(a){return((a*Elem._ratioEm)|0)},em2spx:function(a){return((a*Elem._ratioEm)|0)+"px"},pt2px:function(a){return((a*Elem._ratioPt)|0)},pt2spx:function(a){return((a*Elem._ratioPt)|0)+"px"},text:function(a,c){var b=document.createTextNode(a);c.appendChild(b);return b},replaceText:function(a,b){if(b.firstChild){b.replaceChild(document.createTextNode(a),b.firstChild)}else{Elem.text(a,b)}return b},replaceTextImg:function(a,b){if(b.childNodes[1]){b.replaceChild(document.createTextNode(a),b.childNodes[1])}else{Elem.text(a,b)}return b},space:function(b){var a=document.createTextNode(" ");b.appendChild(a);return a},br:function(b){var a=document.createElement("br");b.appendChild(a);return a},insertImageInButton:function(c,a){var b=document.createElement("img");b.src=a;b.className="CICON";b.setAttribute("aria-hidden","true");c.insertBefore(b,c.firstChild);return c},prepareUserSelection:function(a){if(_cssUserSelection){Elem.addStyle(a,"_NOSEL")}return a},prepareButton:function(a){attachObserver(a,"keydown",Elem._button_Key);if(!_isTouch){attachMouse(a,"mousedown",Elem._button_MouseDown)}return Elem.prepareUserSelection(a)},addButtonLikeKeyHandling:function(a){attachObserver(a,"keydown",Elem._button_Key);return a},createButton:function(c,d,g,f,e){var a=Elem.create("div",d,f);a.tabIndex=0;a.setAttribute("role","button");a.className="BTN";if(!isEmpty(c)){a.appendChild(document.createTextNode(c))}if(g){attachMouse(a,"click",g)}return(e?a:Elem.prepareButton(a))},createToolbarButton:function(c,d,g,f,e){var a=Elem.create("div",d,f);a.tabIndex=0;a.setAttribute("role","button");a.className="BTN BTNTLB";if(!isEmpty(c)){a.appendChild(document.createTextNode(c))}if(g){attachMouse(a,"click",g)}return(e?a:Elem.prepareButton(a))},createLabel:function(b,c,d){var a=Elem.create("div",c,d);a.className="LBL";a.appendChild(document.createTextNode(b));return a},createTextInput:function(b,c){var a=Elem.create("input",b,c);a.type="text";return a},createTextArea:function(a,b){return Elem.create("textarea",a,b)},_getValueNoWatermark:function(){return(this._WatermarkShown?"":this.value)},_resetToWatermark:function(){this.value=this._WatermarkText;this._WatermarkShown=true;Elem.addStyle(this,"TWM");return true},_showWatermark:function(){if(!this._WatermarkShown&&this.value.length===0){this.value=this._WatermarkText;this._WatermarkShown=true;Elem.addStyle(this,"TWM")}return true},_hideWatermark:function(){if(this._WatermarkShown){this.value="";this._WatermarkShown=false;Elem.removeStyle(this,"TWM")}return true},_focusWatermark:function(){this.type="password";return true},_blurWatermark:function(){if(!this.getValueNoWatermark().length){this.type="text"}return true},_getValueNoWatermarkNative:function(){return this.value},_resetToWatermarkNative:function(){this.value="";return true},_showWatermarkNative:function(){textBox.placeholder=this._WatermarkText;return true},_hideWatermarkNative:function(){textBox.placeholder="";return true},setupWatermark:function(c,b,a){c._WatermarkText=b;if(("placeholder" in c)){c.placeholder=b;c.hideWatermark=Elem._hideWatermarkNative;c.showWatermark=Elem._showWatermarkNative;c.resetToWatermark=Elem._resetToWatermarkNative;c.getValueNoWatermark=Elem._getValueNoWatermarkNative}else{if(isEmpty(c._WatermarkShown)){if(c.value.length){c._WatermarkShown=false;Elem.removeStyle(c,"TWM")}else{if(a){c.type="text"}c._WatermarkShown=true;Elem.addStyle(c,"TWM");c.value=b}attachObserver(c,"focus",Elem._hideWatermark);attachObserver(c,"blur",Elem._showWatermark);c.hideWatermark=Elem._hideWatermark;c.showWatermark=Elem._showWatermark;c.resetToWatermark=Elem._resetToWatermark;c.getValueNoWatermark=Elem._getValueNoWatermark;if(a){attachObserver(c,"focus",Elem._focusWatermark);attachObserver(c,"blur",Elem._blurWatermark)}}}return true},init:function(){var a,d,b=document.body.getElementsByTagName("div");for(a=b.length-1;a>=0;a--){d=b[a];if(d.className.substr(0,3)==="BTN"){d.tabIndex=0;d.setAttribute("role","button");Elem.prepareButton(d)}}if(_isTouch){attachMouse(document,"mousedown",Elem._document_MouseDownT)}return true}};seal$(window.Elem);function Timer(){this._timerInterval=1000;this._version=0;this._timerId=null;this.onTick=new ObserverList();seal$(this)}Timer.prototype={getInterval:function(){return this._timerInterval},setInterval:function(a){if(this._timerId===null){this._timerInterval=a}return this._timerInterval},isStarted:function(){return(this._timerId!==null)},stop:function(){this._version++;if(this._timerId!==null){window.clearInterval(this._timerId);this._timerId=null}return true},start:function(c){var b,a=this;a.stop();b=a._version;if(c&&c>=1){a._timerId=window.setInterval(function(){window.clearInterval(a._timerId);if(a._version===b){a.onTick.notify(a,a._timerInterval);window.setInterval(function(){if(a._version===b){a.onTick.notify(a,a._timerInterval)}return true},a._timerInterval)}},c)}else{a._timerId=window.setInterval(function(){if(a._version===b){a.onTick.notify(a,a._timerInterval)}},a._timerInterval)}return true}};freeze$(Timer.prototype);function attachObserver(d,a,c,b){return d.addEventListener(a,c,b?true:false)}function detachObserver(d,a,c,b){return d.removeEventListener(a,c,b?true:false)}function attachScroll(a){attachObserver(document,"mousewheel",a);return attachObserver(window,"DOMMouseScroll",a)}function detachScroll(a){detachObserver(document,"mousewheel",a);return detachObserver(window,"DOMMouseScroll",a)}function attachRepeatableKey(a,c,b){return attachObserver(a,"keydown",c,b)}function detachRepeatableKey(a,c,b){return detachObserver(a,"keydown",c,b)}function prepareForMouseWheel(a){var b=0;return attachObserver(a,"mousewheel",function(d){b+=d.wheelDelta;if(b>=120||b<=-120){var c=Math.round(b/120);b-=(c*120);a.scrollTop-=(c*(a.offsetHeight>>>2))}return cancelEvent(d)})}window.touchMouse=(_isTouch?{_cloneEvent:function(f,a,h,d,b){var g={button:0,target:f.target,eventPhase:f.eventPhase,clientX:a,clientY:h,pageX:d,pageY:b,isCancelled:false};if(f.preventDefault){g.preventDefault=function(){return f.preventDefault()}}if(f.stopPropagation){g.stopPropagation=function(){return f.stopPropagation()}}return g},_touchstartc:function(a){return touchMouse.touchstart(this,"_tc",a)},_touchstart:function(a){return touchMouse.touchstart(this,"_t",a)},touchstart:function(d,g,f){if(f.touches.length>1){return}if(d._tstate){touchMouse.touchend(d,g,f)}d._tstate=true;var b,a,h=touchMouse._cloneEvent(f,f.changedTouches[0].clientX,f.changedTouches[0].clientY,f.changedTouches[0].pageX,f.changedTouches[0].pageY);a=d[g+"mouseover"];if(a){for(b=a.length-1;b>=0;b--){a[b].call(d,h)}}a=d[g+"mousedown"];if(a){for(b=a.length-1;b>=0;b--){a[b].call(d,h)}}return !h.isCancelled},_touchmovec:function(a){return touchMouse.touchmove(this,"_tc",a)},_touchmove:function(a){return touchMouse.touchmove(this,"_t",a)},touchmove:function(d,g,f){if(f.touches.length>1){return}var b,a=d[g+"mousemove"],h=touchMouse._cloneEvent(f,f.changedTouches[0].clientX,f.changedTouches[0].clientY,f.changedTouches[0].pageX,f.changedTouches[0].pageY);if(a){for(b=a.length-1;b>=0;b--){a[b].call(d,h)}}return !h.isCancelled},_touchendc:function(a){return touchMouse.touchend(this,"_tc",a)},_touchend:function(a){return touchMouse.touchend(this,"_t",a)},touchend:function(d,g,f){d._tstate=false;var b,a,h=((f.changedTouches&&f.changedTouches.length>=1)?touchMouse._cloneEvent(f,f.changedTouches[0].clientX,f.changedTouches[0].clientY,f.changedTouches[0].pageX,f.changedTouches[0].pageY):touchMouse._cloneEvent(f,0,0,0,0));a=d[g+"mouseup"];if(a){for(b=a.length-1;b>=0;b--){a[b].call(d,h)}}a=d[g+"mouseout"];if(a){for(b=a.length-1;b>=0;b--){a[b].call(d,h)}}return !h.isCancelled}}:undefined);window.attachMouse=(_isTouch?function(f,a,c,b){var d;if(a==="click"){attachObserver(f,a,c,b)}else{if(a==="mousemove"){d=(b?"_tc":"_t")+a;if(!f[d]){f[d]=[c];attachObserver(f,"touchmove",b?touchMouse._touchmovec:touchMouse._touchmove,b)}else{f[d].push(c)}}else{d=(b?"_tc":"_t");if(!f[d]){f[d]=1;attachObserver(f,"touchstart",b?touchMouse._touchstartc:touchMouse._touchstart,b);attachObserver(f,"touchend",b?touchMouse._touchendc:touchMouse._touchend,b);attachObserver(f,"touchcancel",b?touchMouse._touchendc:touchMouse._touchend,b)}else{f[d]++}d+=a;if(!f[d]){f[d]=[c]}else{f[d].push(c)}}}return true}:attachObserver);window.detachMouse=(_isTouch?function(j,b,f,d){var c,a,h,g;if(b==="click"){detachObserver(j,b,f,d)}else{if(b==="mousemove"){g=(d?"_tc":"_t")+b;a=j[g];if(a){for(c=a.length-1;c>=0;c--){if(a[c]===f){if(a.length===1){delete j[g];detachObserver(j,"touchmove",d?touchMouse._touchmovec:touchMouse._touchmove,d)}else{a.splice(c,1)}break}}}}else{h=(d?"_tc":"_t");g=h+b;c=-1;a=j[g];if(a){for(c=a.length-1;c>=0;c--){if(a[c]===f){if(a.length===1){delete j[g]}else{a.splice(c,1)}break}}}if(c>=0){if(j[h]>1){j[h]--}else{delete j[h];detachObserver(j,"touchstart",d?touchMouse._touchstartc:touchMouse._touchstart,d);detachObserver(j,"touchend",d?touchMouse._touchendc:touchMouse._touchend,d);detachObserver(j,"touchcancel",d?touchMouse._touchendc:touchMouse._touchend,d)}}}}return true}:detachObserver);function getRepeatableKeyChar(a){if(a>=48&&a<=57){return String.fromCharCode(a)}if(a>=96&&a<=105){return String.fromCharCode(a-48)}if(a>=65&&a<=90){return String.fromCharCode(a)}return null}function cancelEvent(a){if("isCancelled" in a){a.isCancelled=true}if("preventDefault" in a){a.preventDefault()}if("stopPropagation" in a){a.stopPropagation()}return false}function ObserverList(){this._list=new Array();freeze$(this)}ObserverList.prototype={attach:function(a,c){var b=this._list;b.push(a);b.push(isEmpty(c)?null:c);return true},detach:function(d){var b,c=this._list,a=c.length;for(b=0;b<a;b+=2){if(c[b+1]===d){c.splice(b,2);return true}}return false},detachFunction:function(c){var b,d=this._list,a=d.length;for(b=0;b<a;b+=2){if(d[b]===c){d.splice(b,2);return true}}return false},notify:function(){var b,c=this._list,a=c.length;for(b=0;b<a;b+=2){c[b].apply(c[b+1],arguments)}return true}};freeze$(ObserverList.prototype);function ImageSet(a){this.defaultSize=((a&&a>0)?a:0);this.images={};this.onImageChanged=new ObserverList()}ImageSet.prototype={putImage:function(b,a){if((typeof a==="string")&&a.length){this.images[b]=a;this.onImageChanged.notify(this,b,a)}else{if(a.src&&a.src.length){this.images[b]=a.src;this.onImageChanged.notify(this,b,a.src)}else{return false}}return true},removeImage:function(a){if(this.images[a]){delete this.images[a];this.onImageChanged.notify(this,a,null);return true}return false},getImageUrl:function(b){var a=this.images[b];return(a||null)},getImage:function(d){var c,b,a=this.images[d];if(a){b=this.getDefaultSize();c=document.createElement("img");if(b){c.width=b;c.height=b}c.src=a;return c}return null},getDefaultSize:function(){return this.defaultSize}};freeze$(ImageSet.prototype);window.Popup={_floatdlg:null,_floatdlgdown:null,_floatcapdown:null,_floatdlgx:0,_floatdlgy:0,_cap_MouseDown:function(a){if(!a.button&&a.target===this){Popup._floatdlgdown=this.parentNode;Popup._floatcapdown=this;Popup._floatdlgx=a.clientX;Popup._floatdlgy=a.clientY;attachMouse(document,"mousemove",Popup._document_MouseMove,true);attachMouse(document,"mouseup",Popup._document_MouseUp,true);this.setAttribute("aria-grabbed","true");return cancelEvent(a)}return true},_dlg_MouseDown:function(a){if(!a.button){this.bringDialogToFront()}return true},_document_MouseMove:function(b){var c,d,a;if((c=Popup._floatdlgdown)){a=parseInt(c.style.top);d=a+(b.clientY-Popup._floatdlgy);if(d<0){d=0}c.style.left=(parseInt(c.style.left)+(b.clientX-Popup._floatdlgx))+"px";c.style.top=d+"px";Popup._floatdlgx=b.clientX;Popup._floatdlgy+=(d-a)}return true},_document_MouseUp:function(a){if(Popup._floatcapdown){Popup._floatcapdown.setAttribute("aria-grabbed","false");Popup._floatcapdown=null}Popup._floatdlgdown=null;detachMouse(document,"mousemove",Popup._document_MouseMove,true);detachMouse(document,"mouseup",Popup._document_MouseUp,true);return true},_btnClose_Click:function(a){if(!a.button){this.parentNode.parentNode._closeReason=1;this.parentNode.parentNode.hideDialog()}return true},_dlg_IsShown:function(){return this._shown},_dlg_Show:function(){if(!this._shown){this._shown=true;this.onBeforeShow.notify(this);Elem.show(this);this.onShow.notify(this)}return this},_dlg_Hide:function(){if(this._shown){this._shown=false;var a={cancel:false};this.onBeforeHide.notify(this,this._closeReason,a);if(!a.cancel){Elem.hide(this);this.onHide.notify(this,this._closeReason);this.parentNode.parentNode._closeReason=0}}return this},_dlg_BringToFront:function(){var a,b=Popup._floatdlg;if(b[b.length-1]===this){return true}for(a=b.length-1;a>=0;a--){if(b[a]===this){b.splice(a,1);b.push(this);for(;a<b.length;a++){b[a].style.zIndex=a+25}break}}return true},createFloatingDialog:function(e,b,a){if(!Popup._floatdlg){Popup._floatdlg=[]}var d,c,f;d=document.createElement("div");d.className=Popup._dlgStyles[0]+" FloatingDialog _HID";d.setAttribute("role","dialog");d.setAttribute("aria-hidden","true");d.style.left="0px";d.style.top="0px";d.style.zIndex=25+Popup._floatdlg.length;c=document.createElement("div");c.id=Elem.newId();c.className=Popup._cpStyles[0];c.style.cursor="move";c.setAttribute("aria-grabbed","false");c.appendChild(document.createTextNode(e));d.setAttribute("aria-labelledby",c.id);f=document.createElement("div");f.setAttribute("role","button");f.title=((a&&a.length)?a:"Fechar");f.className="CaptionClose";f.appendChild(document.createTextNode("\u00D7"));b.className=Popup._icpStyles[0];attachMouse(d,"mousedown",Popup._dlg_MouseDown,true);attachMouse(c,"mousedown",Popup._cap_MouseDown);attachMouse(f,"click",Popup._btnClose_Click);Popup._floatdlg.push(d);c.appendChild(f);d.appendChild(c);b.parentNode.removeChild(b);d.appendChild(b);Elem.show(b);d._shown=false;d._closeReason=0;d.isDialogShown=Popup._dlg_IsShown;d.showDialog=Popup._dlg_Show;d.hideDialog=Popup._dlg_Hide;d.bringDialogToFront=Popup._dlg_BringToFront;d.onBeforeShow=new ObserverList();d.onShow=new ObserverList();d.onBeforeHide=new ObserverList();d.onHide=new ObserverList();document.body.appendChild(d);return d},_popups:[],_titles:[],_escape:[],_types:[],_dlg:null,_title:null,_bg:null,_dlgStyles:["PopupDialog","PopupDialog","PopupDialog"],_cpStyles:["Caption","Caption","Caption"],_icpStyles:["InnerContainer","InnerContainer","InnerContainer"],imagePath:"images/",createAvatar:function(b){if(b){return'<img alt="Avatar" src="'+Popup.imagePath+'avatar.png" />'}var a=document.createElement("img");a.alt="Avatar";a.src=Popup.imagePath+"avatar.png";return a},createDialog:function(b){var a=document.createElement("div");a.className=Popup._icpStyles[b||0];a.style.minWidth=Elem.em2spx(10);a.style.textAlign="left";a.style.overflowY="auto";a.style.maxWidth=((window.innerWidth<=640)?window.innerWidth:(((window.innerWidth*5)>>>3)))+"px";a.style.maxHeight=((window.innerHeight*7)>>>3)+"px";return a},_document_KeyPress:function(a){if(a.keyCode===27){var b;if(Popup._escape.length&&(b=Popup._escape[Popup._escape.length-1])){if(typeof b==="function"){b()}else{Popup.closeForever()}}}return true},show:function(d,b,h,f,a){d.style.maxWidth=((window.innerWidth<=640)?window.innerWidth:(((window.innerWidth*5)>>>3)))+"px";d.style.maxHeight=((window.innerHeight*7)>>>3)+"px";var c,e,i=(a||0),g=f;if(!g||!g.length<0){g="&nbsp;"}if(Popup._bg===null){Popup._bg=document.createElement("div");document.body.appendChild(Popup._bg);Popup._bg.style.display="table";Popup._bg.style.position="fixed";Popup._bg.style.top="0px";Popup._bg.style.left="0px";Popup._bg.style.width="100%";Popup._bg.style.height="100%";Popup._bg.style.zIndex=75;Popup._bg.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAGUExURQAAAAAAAKVnuc8AAAACdFJOUzNLY/YwEAAAACxJREFUeNrtzjEBAAAMAiDXv/RC+HhAAnKltAwMDAwMDAwMDAwMDAwMDNYHDxgeCAG8bPrEAAAAAElFTkSuQmCC)";Popup._bg.style.backgroundRepeat="repeat";e=document.createElement("div");e.style.display="table-row";Popup._bg.appendChild(e);c=document.createElement("div");c.style.display="table-cell";c.className="_TAC _VAM";e.appendChild(c);Popup._dlg=document.createElement("div");Popup._dlg.setAttribute("role","alertdialog");c.appendChild(Popup._dlg);Popup._title=document.createElement("div");Popup._title.id=Elem.newId();Popup._dlg.appendChild(Popup._title);Popup._dlg.setAttribute("aria-labelledby",Popup._title.id);attachRepeatableKey(document,Popup._document_KeyPress,true)}if(Popup._popups.length>0){Popup._dlg.removeChild(Popup._popups[Popup._popups.length-1]);Elem.hide(Popup._popups[Popup._popups.length-1])}Popup._popups.push(d);Popup._titles.push(g);if(b){Popup._escape.push(b)}else{Popup._escape.push(null)}Popup._types.push(i);Popup._title.innerHTML=g;Popup._dlg.className=Popup._dlgStyles[i];Popup._title.className=Popup._cpStyles[i];if(d.parentNode){d.parentNode.removeChild(d)}Popup._dlg.appendChild(d);Elem.show(d);if(h&&h.focus){h.focus()}return d},close:function(b){if(Popup._popups.length>0){var a=Popup._popups.pop();Popup._titles.pop();Popup._escape.pop();Popup._types.pop();Elem.hide(a);Popup._dlg.removeChild(a);if(b){document.body.appendChild(a)}if(Popup._popups.length<=0){document.body.removeChild(Popup._bg);Popup._title=null;Popup._bg=null;detachRepeatableKey(document,Popup._document_KeyPress,true)}else{Elem.show(Popup._popups[Popup._popups.length-1]);Popup._title.innerHTML=Popup._titles[Popup._titles.length-1];Popup._dlg.className=Popup._dlgStyles[Popup._types[Popup._types.length-1]];Popup._title.className=Popup._cpStyles[Popup._types[Popup._types.length-1]];Popup._dlg.appendChild(Popup._popups[Popup._popups.length-1])}return a}return null},closeForever:function(){return Popup.close(false)},closeAllForever:function(){while(Popup._popups.length>0){Popup.close(false)}return true},showMessage:function(l,v,o,k,m,p,e,c,b){var g,s,t,u=Popup.createDialog(m),f,n,q,j,a=true;f=document.createElement("div");f.style.display="table";f.style.borderSpacing="0px";f.style.borderCollapse="collapse";u.appendChild(f);n=document.createElement("div");n.style.display="table-row";f.appendChild(n);switch(m){case 0:s="question.svg";break;case 1:s="info.svg";break;case 2:s="error.svg";break}if(s){t=document.createElement("div");t.style.display="table-cell";t.style.textAlign="left";t.style.verticalAlign="top";t.style.width=Elem.em2px(3.5)+"px";t.style.padding="8px 4px 16px";n.appendChild(t);q=document.createElement("div");q.style.display="inline-block";q.style.verticalAlign="top";q.style.width=Elem.em2spx(3.5);q.style.height=Elem.em2spx(3.5);q.style.backgroundRepeat="no-repeat";q.style.backgroundImage='url("'+Popup.imagePath+s+'")';q.style.backgroundSize="100% 100%";t.appendChild(q)}t=document.createElement("div");t.style.display="table-cell";t.style.verticalAlign="middle";t.style.padding="8px 4px 16px";t.innerHTML=l;n.appendChild(t);t=document.createElement("div");t.className="DLGBTNCONTAINER";u.appendChild(t);j=Elem.createButton(e,t,!o?Popup.closeForever:function(){Popup.closeForever();return o(k,1)});if(!p||p<1||p>2){g=j}if(!isEmpty(c)){a=(!o?Popup.closeForever:function(){Popup.closeForever();return o(k,0)});Elem.addStyle((j=Elem.createButton(c,t,a)),"_ML4");if(p===1){g=j}if(!isEmpty(b)){a=(!o?Popup.closeForever:function(){Popup.closeForever();return o(k,-1)});Elem.addStyle((j=Elem.createButton(b,t,a)),"_ML4");if(p===2){g=j}}}return Popup.show(u,a,g,v,m)},showInfo:function(d,e,b,a,c){return Popup.showMessage(d,e,b,a,1,0,c||"OK")},showError:function(d,e,b,a,c){return Popup.showMessage(d,e||"Oops...",b,a,2,0,c||"OK")},showYesNo:function(c,f,b,a,g,d,e){return Popup.showMessage(c,f,b,a,0,g,d||"Sim",e||"Não")},showYesNoCancel:function(d,g,b,a,h,e,f,c){return Popup.showMessage(d,g,b,a,0,h,e||"Sim",f||"Não",c||"Cancelar")}};seal$(window.Popup);window.FloatingPopup={_stack:[],_buttonBaseMenuInvalid:function(a){return(a.nodeType!==1||a.className==="SEP"||a.className==="SEPMNU"||a.nodeName==="BR")},_buttonBaseMenu_KeyUD:function(d,b,i,e,a,g){var h=((b===i)?d._sc:null),c;if(!h){h=a}if(h){if(b===i||FloatingPopup._buttonBaseMenuInvalid(h)){c=h;if(h===e){h=a}if(h===e){return true}h=h[g];while(h&&h!==c&&FloatingPopup._buttonBaseMenuInvalid(h)){h=((h===e)?a:h[g])}}if(h&&h.focus){h.focus()}d._sc=h}return true},_buttonBaseMenu_Key:function(b){var a=b.keyCode;switch(a){case 13:case 32:if(this._sc){this._sc.click()}break;case 27:FloatingPopup.close();break;case 33:case 34:break;case 35:case 38:FloatingPopup._buttonBaseMenu_KeyUD(this,a,38,this.firstChild,this.lastChild,"previousSibling");break;case 36:case 40:FloatingPopup._buttonBaseMenu_KeyUD(this,a,40,this.lastChild,this.firstChild,"nextSibling");break;default:return true}return cancelEvent(b)},_buttonBase_Click:function(){var a=null;if(this._fpV){FloatingPopup.close()}else{FloatingPopup.show(this._fpPC,this,this._fpCH,false,false,this._fpAAP,true,true);this._fpV=true;a=(this._fpOH?this._fpOH(this._fpPC,this):this._fpPC.firstChild);FloatingPopup._buttonBaseMenu_KeyUD(this._fpPC,36,40,this.lastChild,a||this._fpPC.firstChild,"nextSibling")}return true},_buttonBase_Key:function(a){switch(a.keyCode){case 13:case 32:FloatingPopup._buttonBase_Click.call(this);return cancelEvent(a)}return true},_buttonBase_MouseDown:function(a){this.focus();if(!a.button){FloatingPopup._buttonBase_Click.call(this);return(_isTouch?true:cancelEvent(a))}return true},_document_MouseDown:function(f){var d,b,a=FloatingPopup._stack,c=(a.length?a[a.length-1]:null);if(!f.button){if(c){c=c.popup;d=f.target;b=d;while(b&&b!==c){b=b.parentNode}if(b!==c){c=a[a.length-1].baseControl;b=d;while(b&&b!==c){b=b.parentNode}if(b!==c){FloatingPopup.close()}}}}return true},close:function(){var a=FloatingPopup._stack,b=(a.length?a[a.length-1]:null);if(b){a.pop();if(!a.length){detachMouse(document,"mousedown",FloatingPopup._document_MouseDown,true)}if(b.autoHideBase){Elem.setVisible(b.baseControl,true)}Elem.hide(b.popup);if(b.handler){b.handler.apply(this,arguments)}return true}return false},closeAll:function(){while(FloatingPopup._stack.length){FloatingPopup.close()}return true},prepareButtonBase:function(b,j,d,a,g,f){b._sc=null;j._fpPC=b;j._fpOH=a;j._fpAAP=(((d!==undefined)&&d)?true:false);j._fpCH=function(e){j._fpV=false;if(g){g.apply(window,arguments)}if(!f&&!e){j.focus()}return true};j.tabIndex=0;j.setAttribute("role","button");j.setAttribute("aria-haspopup","true");if(!b.id||!b.id.length){b.id=Elem.newId()}j.setAttribute("aria-owns",b.id);j._fpV=false;b.setAttribute("role","menu");b.setAttribute("aria-hidden","true");attachMouse(j,_isTouch?"click":"mousedown",FloatingPopup._buttonBase_MouseDown);attachRepeatableKey(j,FloatingPopup._buttonBase_Key);attachRepeatableKey(b,FloatingPopup._buttonBaseMenu_Key);var c,h;for(c=b.childNodes.length-1;c>=0;c--){h=b.childNodes[c];if(h.nodeType===1){if(h.getAttribute("role")==="button"||h.tagName==="A"){h.setAttribute("role","menuitem")}}}return true},changeControlBorders:function(d,b,a){var c=(b?"0px":"");switch(a){case 1:d.style.borderTopRightRadius=c;d.style.borderBottomRightRadius=c;break;case 2:d.style.borderBottomLeftRadius=c;d.style.borderBottomRightRadius=c;break;case 3:d.style.borderTopLeftRadius=c;d.style.borderBottomLeftRadius=c;break;default:d.style.borderTopLeftRadius=c;d.style.borderTopRightRadius=c;break}return true},show:function(i,l,b,k,h,c,e,g){if(e){FloatingPopup.closeAll()}if(!FloatingPopup._stack.length){attachMouse(document,"mousedown",FloatingPopup._document_MouseDown,true)}var n=Elem.leftTop(l),m,j,f,a,d={popup:i,baseControl:l,handler:b,autoHideBase:g};if(i.parentNode!==document.body){i.parentNode.removeChild(i);document.body.appendChild(i)}FloatingPopup._stack.push(d);if(k){if(h){i.style.height=l.offsetHeight+"px"}else{i.style.width=l.offsetWidth+"px"}}Elem.move(i,n[0],n[1]);a=true;if(c){j=document.createElement("div");j.style.position="fixed";j.style.width="1px";j.style.height="1px";j.style.padding="0px";j.style.margin="0px";j.style.right="0px";j.style.bottom="0px";document.body.appendChild(j);f=Elem.leftTop(j);f[0]+=j.offsetWidth;f[1]+=j.offsetHeight;document.body.removeChild(j);Elem.show(i);m=n[0];if((m+i.offsetWidth)>f[0]){m=f[0]-i.offsetWidth}if(m<window.pageXOffset){m=window.pageXOffset}if(n[0]!==m){if(m<(n[0]-i.offsetWidth-10)){m=n[0]}if(m<0){m=0}n[0]=m;a=false}m=n[1];if((m+i.offsetHeight)>f[1]){m=f[1]-i.offsetHeight}if(m<window.pageYOffset){m=window.pageYOffset}if(n[1]!==m){if(m<(n[1]-i.offsetHeight-10)){m=n[1]}if(m<0){m=0}n[1]=m;a=false}if(!a){Elem.move(i,n[0],n[1])}}else{Elem.show(i)}if(g){Elem.setVisible(l,false)}return a}};freeze$(window.FloatingPopup);function CheckBoxView(a,d,b,e,c){this.checkBoxModel=a;this.chk=(d?Elem.replace("div",d):Elem.create("div",b,e));this.chk.className=(c?"LBL CLK MNULNK":"LBL CLK");Elem.prepareUserSelection(this.chk);this.chk.focus=CheckBoxView.prototype.chk_DoFocus;attachMouse(this.chk,"click",CheckBoxView.prototype.chk_Click);if(!_isTouch){attachMouse(this.chk,"mousedown",CheckBoxView.prototype.chk_MouseDown)}this.btn=Elem.createButton(a.isChecked()?"\u25A0":"",this.chk);this.btn.className="BTN CKB";this.chk.setAttribute("role",c?"menuitemcheckbox":"checkbox");this.chk.setAttribute("aria-checked",a.isChecked()?"true":"false");this.chk.appendChild(document.createTextNode(a.getLabel().toString()));this.chk.checkBoxView=this;a.onCheckedChanged.attach(CheckBoxView.prototype.model_CheckedChanged,this);a.onLabelChanged.attach(CheckBoxView.prototype.model_LabelChanged,this);Elem.prepareViewVisibility(a,this.chk);seal$(this)}CheckBoxView.prototype={chk_DoFocus:function(){return this.firstChild.focus()},chk_Click:function(c){if(!c.button){var a=this.checkBoxView,b=a.checkBoxModel;b.setChecked(!b.isChecked());a.btn.focus();return cancelEvent(c)}return true},chk_MouseDown:function(a){this.checkBoxView.btn.focus();return((!a.button&&(a.target===this.checkBoxView.chk||a.target===this.checkBoxView.lbl))?cancelEvent(a):true)},model_CheckedChanged:function(a,b){this.btn.replaceChild(document.createTextNode(b?"\u25A0":""),this.btn.firstChild);this.chk.setAttribute("aria-checked",b?"true":"false");return b},model_LabelChanged:function(b,a){this.chk.replaceChild(document.createTextNode(a.toString()),this.chk.childNodes[1]);return a},getStyle:function(){return this.chk.style},getBaseElement:function(){return this.chk}};freeze$(CheckBoxView.prototype);function CheckBox(c,b,a){this._checked=(c?true:false);this._label=(b||"");this.onCheckedChanged=new ObserverList();this.onLabelChanged=new ObserverList();if(a){Elem.prepareModelVisibility(this)}}CheckBox.prototype={isChecked:function(){return this._checked},setChecked:function(a){a=(a?true:false);if(a!==this._checked){this._checked=a;this.onCheckedChanged.notify(this,a)}return a},getLabel:function(){return this._label},setLabel:function(a){this._label=a;this.onLabelChanged.notify(this,a);return a},createControl:function(a,c,b){return new CheckBoxView(this,undefined,a,c,b)},replaceControl:function(b,a){return new CheckBoxView(this,b,undefined,undefined,a)}};freeze$(CheckBox.prototype);function RadioButtonView(a,d,b,e,c){this.radioButtonModel=a;this.chk=(d?Elem.replace("div",d):Elem.create("div",b,e));this.chk.className=(c?"LBL CLK MNULNK":"LBL CLK");Elem.prepareUserSelection(this.chk);this.chk.focus=RadioButtonView.prototype.chk_DoFocus;attachMouse(this.chk,"click",RadioButtonView.prototype.chk_Click);if(!_isTouch){attachMouse(this.chk,"mousedown",RadioButtonView.prototype.chk_MouseDown)}this.btn=Elem.createButton(a.isChecked()?"\u25CF":"",this.chk);this.btn.className="BTN RDB";this.chk.setAttribute("role",c?"menuitemradio":"radio");this.chk.setAttribute("aria-checked",a.isChecked()?"true":"false");this.chk.setAttribute("aria-selected",a.isChecked()?"true":"false");this.chk.appendChild(document.createTextNode(a.getLabel().toString()));this.chk.radioButtonView=this;a.onCheckedChanged.attach(RadioButtonView.prototype.model_CheckedChanged,this);a.onLabelChanged.attach(RadioButtonView.prototype.model_LabelChanged,this);Elem.prepareViewVisibility(a,this.chk);seal$(this)}RadioButtonView.prototype={chk_DoFocus:function(){return this.firstChild.focus()},chk_Click:function(b){if(!b.button){var a=this.radioButtonView;a.radioButtonModel.setChecked(true);a.btn.focus();return cancelEvent(b)}return true},chk_MouseDown:function(a){this.radioButtonView.btn.focus();return((!a.button&&(a.target===this.radioButtonView.chk||a.target===this.radioButtonView.lbl))?cancelEvent(a):true)},model_CheckedChanged:function(a,b){this.btn.replaceChild(document.createTextNode(b?"\u25CF":""),this.btn.firstChild);this.chk.setAttribute("aria-checked",b?"true":"false");this.chk.setAttribute("aria-selected",b?"true":"false");return true},model_LabelChanged:function(b,a){this.chk.replaceChild(document.createTextNode(a.toString()),this.chk.childNodes[1]);return a},getStyle:function(){return this.chk.style},getBaseElement:function(){return this.chk}};freeze$(RadioButtonView.prototype);function RadioButtonGroup(a){this._name=a;this._list=new List();this._current=null;this.onGroupCheckedChanged=new ObserverList();seal$(this)}RadioButtonGroup.prototype={getName:function(){return this._name},getCheckedRadioButton:function(){return this._current},addRadioButton:function(a){return this._list.addLast(a)},removeRadioButton:function(a){return this._list.remove(this._list.indexOf(a))}};freeze$(RadioButtonGroup.prototype);function RadioButton(d,c,b,a){if(!RadioButton._radioButtonGroups[d]){RadioButton._radioButtonGroups[d]=new RadioButtonGroup(d)}RadioButton._radioButtonGroups[d].addRadioButton(this);this._group=RadioButton._radioButtonGroups[d];this._checked=false;this._label=(b||"");this.onGroupCheckedChanged=RadioButton._radioButtonGroups[d].onGroupCheckedChanged;this.onCheckedChanged=new ObserverList();this.onLabelChanged=new ObserverList();if(c){this.setChecked(true)}if(a){Elem.prepareModelVisibility(this)}}RadioButton._radioButtonGroups={};RadioButton.prototype={getGroup:function(){return this._group},getGroupChecked:function(){return this._group._current},isChecked:function(){return this._checked},setChecked:function(a){a=(a?true:false);if(a!==this._checked){var b=this._group;if(a){if(b._current){b._current.setChecked(false)}b._current=this}else{if(b._current===this){b._current=null}}this._checked=a;this.onCheckedChanged.notify(this,a);if(a){this.onGroupCheckedChanged.notify(this)}}return a},getLabel:function(){return this._label},setLabel:function(a){this._label=a;this.onLabelChanged.notify(this,a);return a},createControl:function(a,c,b){return(new RadioButtonView(this,undefined,a,c,b))},replaceControl:function(b,a){return(new RadioButtonView(this,b,undefined,undefined,a))}};freeze$(RadioButton.prototype);function ListBoxView(h,l,m,a,b,n,e){var g,k,d,f,j;this.listBoxModel=h;this.isDropDown=(e?true:false);this.hasFocus=false;this.lb=(l?Elem.replace("div",l):Elem.create("div",m,a));this.lb.className=(e?"VITCONT FPOP _HID":"VITCONT WCTRL");if(e){this.lb.setAttribute("aria-hidden","true")}Elem.prepareUserSelection(this.lb);this.lb.tabIndex=0;this.lb.setAttribute("role","listbox");this.lb.setAttribute("aria-activedescendant","");this.lb.listBoxView=this;attachObserver(this.lb,"focus",ListBoxView.prototype.list_Focus);attachObserver(this.lb,"blur",ListBoxView.prototype.list_Blur);if(!_isTouch){attachMouse(this.lb,"mousedown",ListBoxView.prototype.list_MouseDown)}attachMouse(this.lb,"click",ListBoxView.prototype.list_Click);attachRepeatableKey(this.lb,ListBoxView.prototype.list_Key);if(b){this.lb.style.width=Elem.dim(b)}if(n){this.lb.style.height=Elem.dim(n)}if(b||e){j=this.lb}else{this.lb.style.display="block";g=document.createElement("table");this.lb.appendChild(g);k=document.createElement("tr");Elem.tableBody(g).appendChild(k);j=document.createElement("td");k.appendChild(j);g.className="TBLCONT"}this.container=j;d=h.getSelectedIndex();for(f=0;f<h.count();f++){this.addItem(h.count(),h.getItem(f),f===d)}h.onSelectedIndexChanged.attach(ListBoxView.prototype.model_SelectedIndexChanged,this);h.onListChanged.attach(ListBoxView.prototype.model_ListChanged,this);h.onItemChanged.attach(ListBoxView.prototype.model_ItemChanged,this);h.onQueryItemStyle.attach(ListBoxView.prototype.model_QueryItemStyle,this);h.onItemStyleChanged.attach(ListBoxView.prototype.model_ItemStyleChanged,this);h.onEnsureVisible.attach(ListBoxView.prototype.model_EnsureVisible,this);prepareForMouseWheel(this.lb);if(!e){Elem.prepareViewVisibility(h,this)}seal$(this)}ListBoxView.prototype={changeModelSameItems:function(b){var a=this.listBoxModel,d=-1,c;if(b!==a){if(a){a.onSelectedIndexChanged.detach(this);a.onListChanged.detach(this);a.onItemChanged.detach(this);a.onQueryItemStyle.detach(this);a.onItemStyleChanged.detach(this);a.onEnsureVisible.detach(this);d=a.getSelectedIndex()}this.listBoxModel=b;if(b){b.onSelectedIndexChanged.attach(ListBoxView.prototype.model_SelectedIndexChanged,this);b.onListChanged.attach(ListBoxView.prototype.model_ListChanged,this);b.onItemChanged.attach(ListBoxView.prototype.model_ItemChanged,this);b.onQueryItemStyle.attach(ListBoxView.prototype.model_QueryItemStyle,this);b.onItemStyleChanged.attach(ListBoxView.prototype.model_ItemStyleChanged,this);b.onEnsureVisible.attach(ListBoxView.prototype.model_EnsureVisible,this);c=b.getSelectedIndex()}else{c=-1}this.model_SelectedIndexChanged(b,c,d)}return a},paintSelectedItem:function(d){var c=d,b,a;if(!c){b=this.listBoxModel;a=b.getSelectedIndex();if(a<0||a>=b.count()){return true}c=this.container.childNodes[a]}else{this.lb.setAttribute("aria-activedescendant",c.id)}Elem.addStyle(c,"SEL");(this.hasFocus?Elem.addStyle:Elem.removeStyle)(c,"FCS");return true},list_Focus:function(){var a=this.listBoxView;a.hasFocus=true;return a.paintSelectedItem()},list_Blur:function(){var a=this.listBoxView;a.hasFocus=false;return a.paintSelectedItem()},list_MouseDown:function(a){this.focus();return((!a.button&&!_cssUserSelection)?cancelEvent(a):true)},list_Click:function(c){this.focus();if(!c.button){var a=this.listBoxView,b=c.target;if(b!==this&&b._index!==undefined){if(a.isDropDown&&_isTouch&&a.listBoxModel.getSelectedIndex()===b._index){FloatingPopup.close(true);return true}a.listBoxModel.setSelectedIndex(b._index);if(a.isDropDown&&!_isTouch){FloatingPopup.close(true);return cancelEvent(c)}}}return true},list_Key:function(f){var c=f.keyCode,b=this.listBoxView,d=b.listBoxModel,a;switch(c){case 9:if(b.isDropDown){FloatingPopup.close(true)}return true;case 32:case 37:case 39:break;case 35:d.setSelectedIndex(d.count()-1);break;case 36:d.setSelectedIndex(0);break;case 13:if(b.isDropDown){FloatingPopup.close(true)}break;case 27:if(b.isDropDown){FloatingPopup.close(true,true)}break;case 33:case 34:a=d.getSelectedIndex()+((c===33)?-8:8);if(a<0){a=((d.getSelectedIndex()===0)?(d.count()-1):0)}else{if(a>=d.count()){a=((d.getSelectedIndex()===(d.count()-1))?0:(d.count()-1))}}d.setSelectedIndex(a);break;case 38:case 40:a=d.getSelectedIndex()+((c===38)?-1:1);if(a<0){a=d.count()-1}else{if(a>=d.count()){a=0}}d.setSelectedIndex(a);break;default:c=getRepeatableKeyChar(c);if(isEmpty(c)){return true}d.setSelectedIndex(d.getNextItem(c));break}return cancelEvent(f)},addItem:function(a,e,d){var b,c=document.createElement("div"),f=this.container;c.id=Elem.newId();c.setAttribute("role","option");c.setAttribute("aria-selected",d?"true":"false");c.className="VIT";if(d){this.paintSelectedItem(c)}c.appendChild(document.createTextNode(e.toString()));if(_isTouch){c.style.left="0px"}if(a>=f.childNodes.length){a=f.childNodes.length;f.appendChild(c)}else{f.insertBefore(c,f.childNodes[a])}c._index=a;for(b=f.childNodes.length-1;b>a;b--){f.childNodes[b]._index++}return c},model_EnsureVisible:function(c,b,a){if(b>=0&&b<c.count()){var d=this.lb,f=(b*Elem.itemHeight),e=f-d.scrollTop;if(a){this.paintSelectedItem(this.container.childNodes[b])}if(e<0){d.scrollTop=f}else{if((e+Elem.itemHeight)>=d.clientHeight){d.scrollTop=f-d.clientHeight+Elem.itemHeight}}}else{this.lb.setAttribute("aria-activedescendant","")}return true},model_SelectedIndexChanged:function(b,a,d){if(d!==-1){var c=this.container.childNodes[d];Elem.removeStyle(c,"SEL");Elem.removeStyle(c,"FCS");c.setAttribute("aria-selected","false")}if(a!==-1){this.container.childNodes[a].setAttribute("aria-selected","true")}return this.model_EnsureVisible(b,a,true)},model_ListChanged:function(b,a,e){var f,d,c;if(a===undefined){f=this.container;for(c=f.childNodes.length-1;c>=0;c--){d=f.childNodes[0];delete d._index;f.removeChild(d)}this.lb.setAttribute("aria-activedescendant","")}else{if(e===undefined){f=this.container;d=f.childNodes[a];delete d._index;f.removeChild(d);for(c=f.childNodes.length-1;c>=a;c--){f.childNodes[c]._index--}if(b.getSelectedIndex()<0){this.lb.setAttribute("aria-activedescendant","")}}else{this.addItem(a,e,false)}}return true},model_ItemChanged:function(b,a,d){var c=this.container.childNodes[a];c.replaceChild(document.createTextNode(d.toString()),c.firstChild);return true},model_QueryItemStyle:function(b,e,a,d){var c=this.container.childNodes[a];switch(e){case 0:d.value=c.style.fontSize;break;case 1:d.value=c.style.color;break;case 2:d.value=c.style.fontWeight;break}return true},model_ItemStyleChanged:function(b,e,a,d){var c=this.container.childNodes[a];switch(e){case 0:c.style.fontSize=d;break;case 1:c.style.color=d;break;case 2:c.style.fontWeight=d;break}return true},getStyle:function(){return this.lb.style},getBaseElement:function(){return this.lb}};freeze$(ListBoxView.prototype);function ComboBoxView(b,d,e,c,h,g,f){this.listBoxModel=b;this.hasFocus=false;this._initialIndex=-1;this.cb=(e?Elem.replace("div",e):Elem.create("div",c,h));this.cb.tabIndex=0;this.cb.setAttribute("role","combobox");this.cb.setAttribute("aria-haspopup","true");this.cb.setAttribute("aria-expanded","false");this.cb.className=(f?"CB BTNTLB":"CB");Elem.prepareUserSelection(this.cb);this.txt=document.createElement("div");this.txt.className="CBDDT";this.txt.appendChild(document.createTextNode((b.getSelectedIndex()>=0)?b.getSelectedItem().toString():""));this.btn=document.createElement("div");this.cb.appendChild(this.txt);this.cb.appendChild(this.btn);if(d){this.cb.style.width=Elem.dim(d)}else{this.cb.style.display="block"}this.btn.className="CBDD";this.btn.appendChild(document.createTextNode("\u25BC"));this.btn.setAttribute("aria-hidden","true");this.cb.comboBoxView=this;attachMouse(this.cb,_isTouch?"click":"mousedown",ComboBoxView.prototype.cb_MouseDown);attachObserver(this.cb,"focus",ComboBoxView.prototype.cb_Focus);attachObserver(this.cb,"blur",ComboBoxView.prototype.cb_Blur);attachRepeatableKey(this.cb,ComboBoxView.prototype.cb_Key);this.sharedDropDownList=!!g;this.dropDownListCreator=!this.sharedDropDownList;this.dropDownList=null;if(g){g.sharedDropDownList=true;this.dropDownList=g.dropDownList}else{this.dropDownList=new ListBoxView(b,undefined,document.body,undefined,undefined,undefined,true);ComboBoxView.prototype.resizeDropDownList(b,this.dropDownList.lb)}if(!this.dropDownList.lb.id||!this.dropDownList.lb.id.length){this.dropDownList.lb.id=Elem.newId()}this.cb.setAttribute("aria-owns",this.dropDownList.lb.id);this.dropDownListVisible=false;this.showingBelow=true;var a=this;this.hideDropDown=function(i,j){if(j===true){a.listBoxModel.setSelectedIndex(a._initialIndex)}if(a.dropDownListVisible){a.dropDownListVisible=false;if(i===true){a.cb.focus()}if(!a.hasFocus){a.adjustFocus(false)}a.cb.setAttribute("aria-expanded","false")}return true};this.scrollHandler=function(j){var i=(j.detail?j.detail/-3:j.wheelDelta/120);ComboBoxView.prototype.changeSelectedIndex(b,(i<0)?1:-1);return cancelEvent(j)};b.onSelectedIndexChanged.attach(ComboBoxView.prototype.model_SelectedIndexChanged,this);b.onListChanged.attach(ComboBoxView.prototype.model_ListChanged,this);if(b.onVisibleChanged){b.onVisibleChanged.attach(ListBoxView.prototype.model_VisibleChanged,this)}seal$(this)}ComboBoxView.prototype={adjustFocus:function(a){(a?Elem.addStyle:Elem.removeStyle)(this.cb,"FCS");return true},cb_MouseDown:function(d){var a,c,b=this.comboBoxView;if(b.dropDownListVisible){if(!d.button){FloatingPopup.close(true)}this.focus()}else{b.adjustFocus(true);c=b.listBoxModel;if(!d.button&&c.count()>0){a=b.dropDownList;b.cb.setAttribute("aria-expanded","true");b.dropDownListVisible=true;if(b.sharedDropDownList){a.changeModelSameItems(c)}b.showingBelow=FloatingPopup.show(a.lb,b.cb,b.hideDropDown,true,false,true,true,true);c.ensureVisible(c.getSelectedIndex());a.lb.focus();b._initialIndex=c.getSelectedIndex()}else{this.focus()}}return(!d.button?cancelEvent(d):true)},changeSelectedIndex:function(d,b){var e=d.getSelectedIndex(),a=e+b,f=d.count();if(a<0){a=((e===0)?(f-1):0)}else{if(a>=f){a=((e===(f-1))?0:(f-1))}}d.setSelectedIndex(a);return false},cb_Key:function(d){var b=d.keyCode,a=this.comboBoxView,c=a.listBoxModel;switch(b){case 35:c.setSelectedIndex(c.count()-1);break;case 36:c.setSelectedIndex(0);break;case 13:case 32:ComboBoxView.prototype.cb_MouseDown.call(this,{});break;case 33:case 34:ComboBoxView.prototype.changeSelectedIndex(c,(b===33)?-8:8);break;case 38:case 40:ComboBoxView.prototype.changeSelectedIndex(c,(b===38)?-1:1);break;default:b=getRepeatableKeyChar(b);if(!isEmpty(b)){c.setSelectedIndex(c.getNextItem(b))}return true}return cancelEvent(d)},cb_Focus:function(){var a=this.comboBoxView;a.hasFocus=true;a.adjustFocus(true);return attachScroll(a.scrollHandler)},cb_Blur:function(){var a=this.comboBoxView;a.hasFocus=false;if(!a.dropDownListVisible){a.adjustFocus(false)}return detachScroll(a.scrollHandler)},model_VisibleChanged:function(a,b){if(this.dropDownListVisible){FloatingPopup.close()}Elem.showHide(this.cb,b);return true},model_SelectedIndexChanged:function(b,a,c){this.txt.replaceChild(document.createTextNode((a>=0)?b.getSelectedItem().toString():""),this.txt.firstChild);return true},resizeDropDownList:function(a,b){b.style.height=((a.count()>8)?(((8*Elem.itemHeight)+2)+"px"):"");return b},model_ListChanged:function(b,a,c){if(a!==undefined&&c!==undefined&&this.dropDownListCreator){ComboBoxView.prototype.resizeDropDownList(b,this.dropDownList.lb)}return true},getStyle:function(){return this.cb.style},getBaseElement:function(){return this.cb}};freeze$(ComboBoxView.prototype);function ListBox(a){this.onSelectedIndexChanged=new ObserverList();this.onListChanged=new ObserverList();this.onItemChanged=new ObserverList();this.onEnsureVisible=new ObserverList();this.onQueryItemStyle=new ObserverList();this.onItemStyleChanged=new ObserverList();this._list=new List();this._selectedIndex=-1;if(a){Elem.prepareModelVisibility(this)}}ListBox.prototype={getItem:function(a){return this._list.getItem(a)},setItem:function(a,c){var b,d=this._list;if(a<0||a>=d.count()){return undefined}b=d.setItem(a,c);this.onItemChanged.notify(this,a,c);return b},getItemFontSize:function(a){var b={value:""};this.onQueryItemStyle.notify(this,0,a,b);return b.value},setItemFontSize:function(a,b){this.onItemStyleChanged.notify(this,0,a,b);return b},getItemFontColor:function(a){var b={value:""};this.onQueryItemStyle.notify(this,1,a,b);return b.value},setItemFontColor:function(a,b){this.onItemStyleChanged.notify(this,1,a,b);return b},getItemFontWeight:function(a){var b={value:""};this.onQueryItemStyle.notify(this,2,a,b);return b.value},setItemFontWeight:function(b,a){this.onItemStyleChanged.notify(this,2,b,a);return a},getSelectedItem:function(){if(this._selectedIndex<0){return null}return this._list.getItem(this._selectedIndex)},setSelectedItem:function(a){return this.setSelectedIndex(this._list.indexOf(a))},getSelectedIndex:function(){return this._selectedIndex},setSelectedIndex:function(a){if(a<-1||a>=this._list.count()){a=-1}if(a!==this._selectedIndex){var b=this._selectedIndex;this._selectedIndex=a;this.onSelectedIndexChanged.notify(this,a,b)}return a},getNextItem:function(b,d){if(d===undefined){d=this.getSelectedIndex()}else{if(d<0){d=0}else{if(d>=this._list.count()){d=this._list.count()-1}}}b=b.toLowerCase();var a,e;for(a=d+1;a<this._list.count();a++){e=this._list.getItem(a).toString().charAt(0);if(e&&b==e.toLowerCase()){return a}}for(a=0;a<d;a++){e=this._list.getItem(a).toString().charAt(0);if(e&&b==e.toLowerCase()){return a}}return d},selectNextItem:function(a,b){return this.setSelectedIndex(this.getNextItem(a,b))},indexOf:function(a){return this._list.indexOf(a)},lastIndexOf:function(a){return this._list.lastIndexOf(a)},count:function(){return this._list.count()},clear:function(){this.setSelectedIndex(-1);this._list.clear();this.onListChanged.notify(this);return 0},addFirst:function(a){return this.add(0,a)},addLast:function(a){return this.add(this._list.count(),a)},add:function(a,b){var c=this._list;if(a>=c.count()){c.addLast(b)}else{if(a<=0){c.addFirst(b)}else{c.add(a,b)}}if(a<=this._selectedIndex){this._selectedIndex++}this.onListChanged.notify(this,a,b);return a},removeFirst:function(){return this.remove(0)},removeLast:function(){return this.remove(this._list.count()-1)},remove:function(a){var b=this._list;if(a<0||a>=b.count()){return b.count()}if(a===this._selectedIndex){this.setSelectedIndex(-1)}else{if(a<this._selectedIndex){this._selectedIndex--}}if(a===0){b.removeFirst()}else{if(a===(b.count()-1)){b.removeLast()}else{b.remove(a)}}this.onListChanged.notify(this,a);return b.count()},ensureVisible:function(a){this.onEnsureVisible.notify(this,a)},createControl:function(c,a,d,b,e){return new ListBoxView(this,undefined,b,e,c,a,d)},replaceControl:function(d,b,a,c){return new ListBoxView(this,d,undefined,undefined,b,a,c)},createComboControl:function(b,a,e,d,c){return new ComboBoxView(this,b,undefined,a,e,d,c)},replaceComboControl:function(b,a,d,c){return new ComboBoxView(this,a,b,undefined,undefined,d,c)}};freeze$(ListBox.prototype);function TreeBoxView(h,m,n,a,b,o,l,g,d){var f,k,e=h.getImageSetDefaultSize(),j;this.treeBoxModel=h;this.isDropDown=(d?true:false);this.preventUnselect=!!g;this.hasFocus=false;this.imgWidth=((e>0&&e<=(Elem.itemHeight-2))?(e|0):(Elem.itemHeight-2));this.tb=(m?Elem.replace("div",m):Elem.create("div",n,a));this.tb.className=(d?"ITCONT FPOP _HID":"ITCONT WCTRL");if(d){this.tb.setAttribute("aria-hidden","true")}Elem.prepareUserSelection(this.tb);this.tb.tabIndex=0;this.tb.setAttribute("role","tree");this.tb.setAttribute("aria-activedescendant","");this.tb.treeBoxView=this;attachObserver(this.tb,"focus",TreeBoxView.prototype.tree_Focus);attachObserver(this.tb,"blur",TreeBoxView.prototype.tree_Blur);if(!_isTouch){attachMouse(this.tb,"mousedown",TreeBoxView.prototype.tree_MouseDown);attachMouse(this.tb,"dblclick",TreeBoxView.prototype.tree_DblClick)}attachMouse(this.tb,"click",TreeBoxView.prototype.tree_Click);attachRepeatableKey(this.tb,TreeBoxView.prototype.tree_Key);if(!this.tb.id||!this.tb.id.length){this.tb.id=Elem.newId()}this.id=this.tb.id;if(l){Elem.setRect(this.tb,l)}if(b){this.tb.style.width=Elem.dim(b)}if(o){this.tb.style.height=Elem.dim(o)}if(b||d||(("left" in l)&&("right" in l))){j=this.tb}else{this.tb.style.display="block";f=document.createElement("table");this.tb.appendChild(f);k=document.createElement("tr");Elem.tableBody(f).appendChild(k);j=document.createElement("td");k.appendChild(j);f.className="TBLCONT"}this.container=j;h.root()["r"+this.id]=true;h.root()["b"+this.id]=true;h.root()["n"+this.id]=true;h.root()["c"+this.id]=this.container;for(e=0;e<h.childrenCount();e++){this.model_NodeAdded(h,h.child(e))}if(h.getSelectedNode()){this.model_SelectedNodeChanged(h,h.getSelectedNode(),null)}h.onSelectedNodeChanged.attach(TreeBoxView.prototype.model_SelectedNodeChanged,this);h.onNodeAdded.attach(TreeBoxView.prototype.model_NodeAdded,this);h.onNodeRemoved.attach(TreeBoxView.prototype.model_NodeRemoved,this);h.onNodeLabelChanged.attach(TreeBoxView.prototype.model_NodeLabelChanged,this);h.onNodeFontSizeChanged.attach(TreeBoxView.prototype.model_NodeFontSizeChanged,this);h.onNodeFontColorChanged.attach(TreeBoxView.prototype.model_NodeFontColorChanged,this);h.onNodeFontWeightChanged.attach(TreeBoxView.prototype.model_NodeFontWeightChanged,this);h.onNodeExpanded.attach(TreeBoxView.prototype.model_NodeExpanded,this);h.onNodeCollapsed.attach(TreeBoxView.prototype.model_NodeCollapsed,this);h.onEnsureVisible.attach(TreeBoxView.prototype.model_EnsureVisible,this);h.onNodeImageIdChanged.attach(TreeBoxView.prototype.model_NodeImageIdChanged,this);h.onImageSetChanged.attach(TreeBoxView.prototype.model_ImageSetChanged,this);h.onImageSetImageChanged.attach(TreeBoxView.prototype.model_ImageSetImageChanged,this);prepareForMouseWheel(this.tb);if(!d){Elem.prepareViewVisibility(h,this)}seal$(this)}TreeBoxView.prototype={paintSelectedNode:function(a){var b;if(!a){b=this.treeBoxModel.getSelectedNode();if(!b){return true}b=b["n"+this.id]}else{b=a;this.tb.setAttribute("aria-activedescendant",b.id)}Elem.addStyle(b,"SEL");(this.hasFocus?Elem.addStyle:Elem.removeStyle)(b,"FCS");return true},tree_Focus:function(){var a=this.treeBoxView;a.hasFocus=true;return a.paintSelectedNode()},tree_Blur:function(){var a=this.treeBoxView;a.hasFocus=false;return a.paintSelectedNode()},tree_MouseDown:function(a){this.focus();return((!a.button&&!_cssUserSelection)?cancelEvent(a):true)},tree_Click:function(d){this.focus();if(!d.button){var c=d.target,a=this.treeBoxView,b=a.treeBoxModel;if(c!==this){if(!c._treeControl){if(c._treeItem){if(a.isDropDown&&_isTouch&&b.getSelectedNode()===c.node){FloatingPopup.close(true);return true}b.setSelectedNode(c.node);if(a.isDropDown&&!_isTouch){FloatingPopup.close(true)}}else{if(!a.preventUnselect){b.setSelectedNode(null)}}}else{c.node.toggle()}}else{if(!a.preventUnselect){b.setSelectedNode(null)}}}return true},tree_DblClick:function(b){if(!b.button){var a=b.target;if(a!==this){if(!a._treeControl&&a._treeItem){a.node.toggle()}}}return true},tree_Key:function(g){var f,h,b=g.keyCode,a=this.treeBoxView,c=a.treeBoxModel,d=c.getSelectedNode();switch(b){case 9:if(a.isDropDown){FloatingPopup.close(true)}return true;case 33:case 34:break;case 35:d=c.lastChild();if(d){while(d.isExpanded()&&d.childrenCount()>0){d=d.lastChild()}c.setSelectedNode(d)}break;case 36:c.setSelectedNode(c.firstChild());break;case 32:case 13:if((b===32||!a.isDropDown)&&d&&d.childrenCount()>0){d.toggle()}break;case 37:if(d){if(d.childrenCount()<=0||d.isCollapsed()){if(d.parent()!==d.tree().root()){c.setSelectedNode(d.parent())}}else{d.collapse()}}break;case 39:if(d&&d.childrenCount()>0){if(d.isExpanded()){c.setSelectedNode(d.firstChild())}else{d.expand()}}break;case 38:if(d){h=d.previousSibling();if(h){while(h.childrenCount()>0&&h.isExpanded()){h=h.lastChild()}c.setSelectedNode(h)}else{if(d.parent()!==d.tree().root()){c.setSelectedNode(d.parent())}}}else{c.setSelectedNode(c.firstChild())}break;case 40:if(d){if(d.isExpanded()&&d.childrenCount()>0){c.setSelectedNode(d.firstChild())}else{if(d.nextSibling()){c.setSelectedNode(d.nextSibling())}else{f=d;do{f=f.parent()}while(f&&!f.nextSibling());if(f){c.setSelectedNode(f.nextSibling())}}}}else{c.setSelectedNode(c.firstChild())}break;default:return true}return cancelEvent(g)},removeNodeImage:function(a,c){var d=a.id,b=c["i"+d];if(b){delete b._treeItem;delete b.node;c["n"+d].removeChild(b);delete c["i"+d];return true}return false},refreshNodeImage:function(b,e){var d=this.id,a=b["i"+d],c=b["n"+d];if(a){delete a._treeItem;delete a.node;c.removeChild(a);delete b["i"+d]}if(e){if(!(a=e.getImage(b.getImageId()))){a=document.createElement("span")}a._treeItem=true;a.node=b;a.className="IICON";a.setAttribute("aria-hidden","true");b["i"+d]=a;c.insertBefore(a,c.firstChild)}return true},refreshAllImages:function(a,d){var b,c;for(b=a.childrenCount()-1;b>=0;b--){c=a.child(b);this.refreshNodeImage(c,d);this.refreshAllImages(c,d)}return true},refreshAllImagesById:function(a,e,c){var b,d;for(b=a.childrenCount()-1;b>=0;b--){d=a.child(b);if(d.getImageId()===c){this.refreshNodeImage(d,e)}this.refreshAllImagesById(d,e,c)}return true},cleanupNode:function(c){var b,e=this.id,a=c["b"+e],d=c["n"+e];delete c["r"+e];delete c["b"+e];delete c["n"+e];delete c["c"+e];b=c["i"+e];if(b){delete b._treeItem;delete b.node;delete c["i"+e]}if(d){delete d.node;delete d._treeItem}if(a){delete a.node;delete a._treeControl}for(b=c.childrenCount()-1;b>=0;b--){this.cleanupNode(c.child(b))}return true},model_SelectedNodeChanged:function(b,c,a){if(a){var d=a["n"+this.id];Elem.removeStyle(d,"SEL");Elem.removeStyle(d,"FCS");d.setAttribute("aria-selected","false")}if(c){c["n"+this.id].setAttribute("aria-selected","true")}return this.model_EnsureVisible(b,c,true)},model_NodeAdded:function(j,f){var h,m=document.createElement("div"),d=this.id,e=document.createElement("div"),b=document.createElement("div"),k=f.parent(),l=k["r"+d],c=k["b"+d],g=k["n"+d],a=k["c"+d];b.id=Elem.newId();m.className="TBR";m.setAttribute("role","group");e.setAttribute("role","treeitem");e.id=Elem.newId();e.setAttribute("aria-selected","false");e.setAttribute("aria-expanded",f.isExpanded()?"true":"false");e.setAttribute("aria-owns",b.id);b.className=(f.isExpanded()?"TBC":"TBC _HID");if(!f.isExpanded()){b.setAttribute("aria-hidden","true")}b.setAttribute("role","group");if(isEmpty(c)){c=document.createElement("div");c.setAttribute("role","button");c.className="TBB";c._treeControl=true;c.appendChild(document.createTextNode(k.isExpanded()?"-":"+"));k["b"+d]=c;Elem.removeStyle(g,"TBCSP");l.insertBefore(c,g);c.node=k}m.appendChild(e);m.appendChild(b);f["r"+d]=m;f["n"+d]=e;f["c"+d]=b;e.className="IT TBCSP";e._treeItem=true;e.appendChild(document.createTextNode(f.getLabel().toString()));if(f.getFontSize().length){e.style.fontSize=f.getFontSize()}if(f.getFontColor().length){e.style.color=f.getFontColor()}if(f.getFontWeight().length){e.style.fontWeight=f.getFontWeight()}if(f.index()>=a.childNodes.length){a.appendChild(m)}else{a.insertBefore(m,a.childNodes[f.index()])}e.node=f;h=j.getImageSet();if(h){this.refreshNodeImage(f,h)}for(h=0;h<f.childrenCount();h++){this.model_NodeAdded(j,f.child(h))}return m},model_NodeRemoved:function(b,d){var a,c=d.parent(),e=this.id;if(c.childrenCount()<1&&c!==b.root()){a=c["b"+e];delete c["b"+e];Elem.addStyle(c["n"+e],"TBCSP");c["r"+e].removeChild(a);delete a.node;delete a._treeControl;if(!b.getSelectedNode()){this.tb.setAttribute("aria-activedescendant","")}}c["c"+e].removeChild(d["r"+e]);return this.cleanupNode(d)},model_NodeLabelChanged:function(a,b){var c=b["n"+this.id];c.replaceChild(document.createTextNode(b.getLabel().toString()),b["i"+this.id]?c.childNodes[1]:c.firstChild);return true},model_NodeFontSizeChanged:function(a,b){b["n"+this.id].style.fontSize=b.getFontSize();return true},model_NodeFontColorChanged:function(a,b){b["n"+this.id].style.color=b.getFontColor();return true},model_NodeFontWeightChanged:function(a,b){b["n"+this.id].style.fontWeight=b.getFontWeight();return true},model_NodeExpanded:function(c,d){var e=this.id,a=d["b"+e];a.replaceChild(document.createTextNode("-"),a.firstChild);Elem.show(d["c"+e]);d["n"+e].setAttribute("aria-expanded","true");return true},model_NodeCollapsed:function(c,d){var e=this.id,a=d["b"+e];a.replaceChild(document.createTextNode("+"),a.firstChild);Elem.hide(d["c"+e]);if(c.getSelectedNode()&&d.isAncestor(c.getSelectedNode())){c.setSelectedNode(d)}d["n"+e].setAttribute("aria-expanded","false");return true},model_EnsureVisible:function(j,e,l){if(e){var i,k,d,b,o,a,f,c,g,m=e.parent();while(!e.isVisible()&&m){m.expand();m=m.parent()}c=e["n"+this.id];g=this.tb;if(l){this.paintSelectedNode(c)}a=c.offsetTop;f=c.offsetLeft;m=c.offsetParent;while(m!==this.container&&m!==g&&m){a+=m.offsetTop;f+=m.offsetLeft;m=m.offsetParent}k=a-g.scrollTop;d=f-g.scrollLeft;b=k+c.offsetHeight;o=d+c.offsetWidth;if(k<0){g.scrollTop=a}else{if(b>=g.clientHeight){g.scrollTop=a-g.clientHeight+c.offsetHeight}}if(c.offsetWidth<=g.clientWidth){if(d<0){g.scrollLeft=f}else{if(o>=g.clientWidth){g.scrollLeft=f-g.clientWidth+c.offsetWidth}}}else{i=(g.clientWidth>>>1);if(d>i||o<i){g.scrollLeft=f}}}else{this.tb.setAttribute("aria-activedescendant","")}return true},model_NodeImageIdChanged:function(a,b){return this.refreshNodeImage(b,a.getImageSet())},model_ImageSetChanged:function(a,d,c){var b=a.getImageSetDefaultSize();this.imgWidth=((b>0&&b<(Elem.itemHeight-2))?(b|0):(Elem.itemHeight-2));return this.refreshAllImages(a.root(),d)},model_ImageSetImageChanged:function(b,c,a){return this.refreshAllImagesById(b.root(),b.getImageSet(),c)},getStyle:function(){return this.tb.style},getBaseElement:function(){return this.tb}};freeze$(TreeBoxView.prototype);function TreeNodeCollection(a){this._nodes=new List();this._owner=a}TreeNodeCollection.prototype={count:function(){return this._nodes.count()},node:function(a){return this._nodes.getItem(a)},firstNode:function(){return this._nodes.getItem(0)},lastNode:function(){return this._nodes.getItem(this._nodes.count()-1)},owner:function(){return this._owner},clear:function(){for(var a=this._nodes.count()-1;a>=0;a--){this.remove(a)}return true},addFirst:function(a){return this.add(0,a)},addLast:function(a){return this.add(this._nodes.count(),a)},add:function(c,f){var e,b=this._nodes,a=this._owner,d=a.tree();if(!(f instanceof TreeNode)){f=new TreeNode(f||"")}if(f._parent){throw"Impossível adicionar um nó que já possui um pai"}if(c>=b.count()){c=b.count();b.addLast(f)}else{if(c<=0){c=0;b.addFirst(f)}else{b.add(c,f)}}f._parent=a;f._index=c;f._setDepthAndTree(a.depth()+1,d);for(e=b.count()-1;e>c;e--){b.getItem(e)._index++}if(d){d.onNodeAdded.notify(d,f)}return f},removeFirst:function(){return this.remove(0)},removeLast:function(){return this.remove(this._nodes.count()-1)},remove:function(c){var e,f,b=this._nodes,a=this._owner,d=a.tree();if(c<0||c>=b.count()){return null}f=b.getItem(c);if(d&&(d.getSelectedNode()===f||f.isAncestor(d.getSelectedNode()))){d.setSelectedNode(null)}if(c===0){b.removeFirst()}else{if(c===(b.count()-1)){b.removeLast()}else{b.remove(c)}}for(e=b.count()-1;e>=c;e--){b.getItem(e)._index--}if(d){d.onNodeRemoved.notify(d,f)}f._parent=null;f._index=-1;f._setDepthAndTree(-1,null);return f}};freeze$(TreeNodeCollection.prototype);function TreeNode(a,c,b){this._label=(a||"");this._value=(c||null);this._fontSize="";this._fontColor="";this._fontWeight="";this._index=-1;this._imageId=(b?b:0);this._depth=-1;this._tree=null;this._parent=null;this._nodes=null;this._expanded=false}TreeNode.prototype={_setDepthAndTree:function(d,a){this._depth=d;this._tree=a;var c,b=this._nodes;if(b){if(d>=0){d+=1}for(c=b.count()-1;c>=0;c--){b.node(c)._setDepthAndTree(d,a)}}return true},children:function(){if(this._nodes===null){this._nodes=new TreeNodeCollection(this)}return this._nodes},childrenCount:function(){var a=this._nodes;return(a?a.count():0)},child:function(b){var a=this._nodes;return(a?a.node(b):null)},firstChild:function(){var a=this._nodes;return(a?a.firstNode():null)},lastChild:function(){var a=this._nodes;return(a?a.lastNode():null)},index:function(){return this._index},depth:function(){return this._depth},tree:function(){return this._tree},parent:function(){return this._parent},getLabel:function(){return this._label},setLabel:function(b){if(!b){b=""}this._label=b;var a=this._tree;if(a){a.onNodeLabelChanged.notify(a,this)}return b},getImageId:function(){return this._imageId},setImageId:function(c){var b=this._imageId,a=this._tree;if(b!==c){this._imageId=c;if(a){a.onNodeImageIdChanged.notify(a,this)}}return b},getFontSize:function(){return this._fontSize},setFontSize:function(b){if(!b){b=""}this._fontSize=b;var a=this._tree;if(a){a.onNodeFontSizeChanged.notify(a,this)}return b},getFontColor:function(){return this._fontColor},setFontColor:function(b){if(!b){b=""}this._fontColor=b;var a=this._tree;if(a){a.onNodeFontColorChanged.notify(a,this)}return b},getFontWeight:function(){return this._fontWeight},setFontWeight:function(b){if(!b){b=""}this._fontWeight=b;var a=this._tree;if(a){a.onNodeFontWeightChanged.notify(a,this)}return b},getValue:function(){return this._value},setValue:function(a){this._value=a;return a},isExpanded:function(){return this._expanded},isCollapsed:function(){return !this._expanded},expand:function(){if(!this._expanded){var d,b=this._tree,e=this.childrenCount();if(b&&e){if(b._root===this){return true}d={cancel:false};b.onNodeExpanding.notify(b,this,d);if(d.cancel===true){return false}}this._expanded=true;if(b&&e){b.onNodeExpanded.notify(b,this)}}return true},expandAll:function(){for(var a=this.childrenCount()-1;a>=0;a--){this._nodes.node(a).expandAll()}return this.expand()},collapse:function(){if(this._expanded){var d,b=this._tree,e=this.childrenCount();if(b&&e){if(b._root===this){return true}d={cancel:false};b.onNodeCollapsing.notify(b,this,d);if(d.cancel===true){return false}}this._expanded=false;if(b&&e){b.onNodeCollapsed.notify(b,this)}}return true},collapseAll:function(){for(var a=this.childrenCount()-1;a>=0;a--){this._nodes.node(a).collapseAll()}return this.collapse()},toggle:function(){return(this._expanded?this.collapse():this.expand())},removeFromParent:function(){var a=this._parent;if(a){return a.children().remove(this._index)}return this},previousSibling:function(){var a=this._index;if(a<=0){return null}return this._parent.child(a-1)},nextSibling:function(){var a=this._index,b=this._parent;if(a<0||a>=b.childrenCount()){return null}return b.child(a+1)},isVisible:function(){if(this._index<0){return(this._tree&&(this._tree._root===this))}var a=this._parent;return(a.isVisible()&&a.isExpanded())},isAncestor:function(c){if(!c){return false}var b,a=this._nodes;for(b=this.childrenCount()-1;b>=0;b--){if(a.node(b)===c){return true}}for(b=this.childrenCount()-1;b>=0;b--){if(a.node(b).isAncestor(c)){return true}}return false},isDescendant:function(a){return(a?a.isAncestor(this):false)},clear:function(){return this.children().clear()},addFirst:function(a){return this.children().addFirst(a)},addLast:function(a){return this.children().addLast(a)},add:function(a,b){return this.children().add(a,b)},removeFirst:function(){return this.children().removeFirst()},removeLast:function(){return this.children().removeLast()},remove:function(a){return this.children().remove(a)}};freeze$(TreeNode.prototype);function TreeBox(a){this.onSelectedNodeChanged=new ObserverList();this.onNodeAdded=new ObserverList();this.onNodeRemoved=new ObserverList();this.onNodeLabelChanged=new ObserverList();this.onNodeFontSizeChanged=new ObserverList();this.onNodeFontColorChanged=new ObserverList();this.onNodeFontWeightChanged=new ObserverList();this.onNodeExpanding=new ObserverList();this.onNodeExpanded=new ObserverList();this.onNodeCollapsing=new ObserverList();this.onNodeCollapsed=new ObserverList();this.onNodeImageIdChanged=new ObserverList();this.onEnsureVisible=new ObserverList();this.onImageSetChanged=new ObserverList();this.onImageSetImageChanged=new ObserverList();this._imageSet=null;this._selectedNode=null;this._root=new TreeNode();this._root._tree=this;this._root._expanded=true;this._root.children();if(a){Elem.prepareModelVisibility(this)}}TreeBox.prototype={_defaultRoot:function(){return true},root:function(){return this._root},children:function(){return this._root._nodes},childrenCount:function(){return this._root._nodes.count()},child:function(a){return this._root._nodes.node(a)},firstChild:function(){return this._root._nodes.firstNode()},lastChild:function(){return this._root._nodes.lastNode()},getSelectedNode:function(){return this._selectedNode},setSelectedNode:function(b){if(!b||b===this._root){b=null}else{if(b.tree()!==this){throw"Impossível selecionar um nó de outra árvore"}}if(b!==this._selectedNode){var a=this._selectedNode;this._selectedNode=b;this.onSelectedNodeChanged.notify(this,b,a)}return b},ensureVisible:function(a){this.onEnsureVisible.notify(this,a);return true},getImageSetDefaultSize:function(){return(this._imageSet?this._imageSet.getDefaultSize():0)},imageSet_ImageChanged:function(c,b,a){return this.onImageSetImageChanged.notify(this,b,a)},getImageSet:function(){return this._imageSet},setImageSet:function(b){var a=this._imageSet;if(a!==b){if(a){a.onImageChanged.detach(this)}this._imageSet=b;if(b){b.onImageChanged.attach(TreeBox.prototype.imageSet_ImageChanged,this)}this.onImageSetChanged.notify(this,b,a)}return a},clear:function(){return this._root._nodes.clear()},addFirst:function(a){return this._root._nodes.addFirst(a)},addLast:function(a){return this._root._nodes.addLast(a)},add:function(a,b){return this._root._nodes.add(a,b)},removeFirst:function(){return this._root._nodes.removeFirst()},removeLast:function(){return this._root._nodes.removeLast()},remove:function(a){return this._root._nodes.remove(a)},createControl:function(e,a,c,b,f,d,g){return new TreeBoxView(this,undefined,d,g,e,a,c,b,f)},replaceControl:function(f,d,a,c,b,e){return new TreeBoxView(this,f,undefined,undefined,d,a,c,b,e)}};freeze$(TreeBox.prototype);function NumericUpDownView(f,c,d,j,k,b){var e=Elem.controlHeight,i=(c?Elem.dimnum(c):0),a=Elem.itemHeight,g=(e>>>1);this.nudModel=f;this.nud=(j?Elem.replace("div",j):Elem.create("div",k,b));this.nud.focus=NumericUpDownView.prototype.nud_DoFocus;this.txt=Elem.createTextInput(undefined,undefined,true);this.btnT=document.createElement("div");this.btnB=document.createElement("div");this.nud.appendChild(this.txt);this.nud.appendChild(this.btnT);this.nud.appendChild(this.btnB);this.nud.className="NUD";this.txt.value=f.getValue();this.txt.className="NUDT";if(i){this.txt.style.width=(i-a)+"px";this.nud.style.width=i+"px"}else{this.txt.style.width="100%";this.nud.style.paddingRight=a+"px";this.nud.style.display="block"}if(d!==undefined){this.txt.maxLength=d}this.btnT.className="NUDB NUDBT";this.btnT.setAttribute("role","button");Elem.prepareUserSelection(this.btnT);this.btnT.style.width=a+"px";this.btnT.style.height=(e-g)+"px";this.btnT.style.lineHeight=(e-g-2)+"px";if(i){this.btnT.style.left=(i-a)+"px"}else{this.btnT.style.right="0px"}this.btnT.appendChild(document.createTextNode("\u25B2"));this.btnB.className="NUDB NUDBB";this.btnB.setAttribute("role","button");Elem.prepareUserSelection(this.btnB);this.btnB.style.top=(e-g)+"px";this.btnB.style.width=a+"px";this.btnB.style.height=g+"px";this.btnB.style.lineHeight=g+"px";if(i){this.btnB.style.left=(i-a)+"px"}else{this.btnB.style.right="0px"}this.btnB.appendChild(document.createTextNode("\u25BC"));this.txt.nudView=this;this.btnT.nudView=this;this.btnB.nudView=this;this.timerIncrement=0;this.timer=new Timer();this.timer.setInterval(50);this.txt.ignoreChanges=false;attachObserver(this.txt,"keyup",NumericUpDownView.prototype.txt_KeyUp);attachObserver(this.txt,"focus",NumericUpDownView.prototype.txt_Focus);attachObserver(this.txt,"blur",NumericUpDownView.prototype.txt_Blur);attachRepeatableKey(this.txt,NumericUpDownView.prototype.txt_Key);attachMouse(this.btnT,"mousedown",NumericUpDownView.prototype.btnT_MouseDown);attachMouse(this.btnT,"mouseup",NumericUpDownView.prototype.btn_MouseUp);attachMouse(this.btnT,"mouseout",NumericUpDownView.prototype.btn_MouseUp);attachMouse(this.btnB,"mousedown",NumericUpDownView.prototype.btnB_MouseDown);attachMouse(this.btnB,"mouseup",NumericUpDownView.prototype.btn_MouseUp);attachMouse(this.btnB,"mouseout",NumericUpDownView.prototype.btn_MouseUp);this.timer.onTick.attach(NumericUpDownView.prototype.timer_Tick,this);this.scrollHandler=function(h){f.add(3*(h.detail?h.detail/-3:h.wheelDelta/120));return cancelEvent(h)};this.nud.setAttribute("role","spinbutton");this.nud.setAttribute("aria-valuemin",f.getMinimum());this.nud.setAttribute("aria-valuemax",f.getMaximum());this.nud.setAttribute("aria-valuenow",f.getValue());f.onMinimumChanged.attach(NumericUpDownView.prototype.model_MinimumChanged,this);f.onMaximumChanged.attach(NumericUpDownView.prototype.model_MaximumChanged,this);f.onValueChanged.attach(NumericUpDownView.prototype.model_ValueChanged,this);Elem.prepareViewVisibility(f,this.nud);seal$(this)}NumericUpDownView.prototype={nud_DoFocus:function(){return this.firstChild.focus()},timer_Tick:function(){return this.nudModel.add(this.timerIncrement)},txtChangeHandler:function(d){if(!this.ignoreChanges){var a,b;try{a=parseInt(this.value,10)}catch(c){}b=this.nudView.nudModel;if(a!==b.getValue()){this.ignoreChanges=true;if(isEmpty(a)||isNaN(a)){if(d){this.value=b.getValue()}}else{if(a>b.getMaximum()){a=b.getMaximum();b.setValue(a);if(d){this.value=a}}else{if(a<b.getMinimum()){a=b.getMinimum();b.setValue(a);if(d){this.value=a}}else{b.setValue(a)}}}this.ignoreChanges=false}}return true},txt_KeyUp:function(){return NumericUpDownView.prototype.txtChangeHandler.call(this,false)},txt_Focus:function(){var a=this.nudView;Elem.addStyle(a.btnT,"FCS");Elem.addStyle(a.btnB,"FCS");return attachScroll(a.scrollHandler)},txt_Blur:function(){var a=this.nudView;Elem.removeStyle(a.btnT,"FCS");Elem.removeStyle(a.btnB,"FCS");detachScroll(a.scrollHandler);return NumericUpDownView.prototype.txtChangeHandler.call(this,true)},txt_Key:function(c){var a=c.keyCode,b=this.nudView.nudModel;switch(a){case 33:case 38:b.add(1);return cancelEvent(c);case 34:case 40:b.add(-1);return cancelEvent(c)}return true},btn_MouseDown:function(a,b,c){if(!_isTouch){a.txt.focus()}if(!c.button){a.timerIncrement=b;a.timer.start(250);a.nudModel.add(b);if(!_cssUserSelection){return cancelEvent(c)}}return true},btnT_MouseDown:function(a){return NumericUpDownView.prototype.btn_MouseDown(this.nudView,1,a)},btnB_MouseDown:function(a){return NumericUpDownView.prototype.btn_MouseDown(this.nudView,-1,a)},btn_MouseUp:function(b){var a=this.nudView;if(a.timer.isStarted()){a.timerIncrement=0;a.timer.stop();a.txt.focus()}return cancelEvent(b)},model_MinimumChanged:function(a,b){this.nud.setAttribute("aria-valuemin",a.getMinimum());return true},model_MaximumChanged:function(a,b){this.nud.setAttribute("aria-valuemax",a.getMaximum());return true},model_ValueChanged:function(a,b){if(!this.txt.ignoreChanges){this.txt.value=b}this.nud.setAttribute("aria-valuenow",a.getValue());return true},getStyle:function(){return this.nud.style},getBaseElement:function(){return this.nud}};freeze$(NumericUpDownView.prototype);function NumericUpDown(d,e,c,b,a){this._minimum=d;this._maximum=e;this._value=((c===undefined)?d:c);this._wrap=(b?true:false);this.onMinimumChanged=new ObserverList();this.onMaximumChanged=new ObserverList();this.onValueChanged=new ObserverList();if(isNaN(this._value)){this._value=this._minimum}else{if(this._value>this._maximum){this._value=this._maximum}else{if(this._value<this._minimum){this._value=this._minimum}}}if(a){Elem.prepareModelVisibility(this)}}NumericUpDown.prototype={getValue:function(){return this._value},setValue:function(a){var b=(a|0);if(isNaN(b)){b=this._value}else{if(b>this._maximum){b=this._maximum}else{if(b<this._minimum){b=this._minimum}}}if(b===this._value){return b}this._value=b;this.onValueChanged.notify(this,b);return b},getMinimum:function(){return this._minimum},setMinimum:function(a){var b=(a|0);if(this._minimum===b){return b}if(b>this._maximum){this._maximum=b;this.onMaximumChanged.notify(this,b)}this._minimum=b;this.onMinimumChanged.notify(this,b);if(this._value<b){this._value=b;this.onValueChanged.notify(this,b)}return b},getMaximum:function(){return this._maximum},setMaximum:function(a){var b=(a|0);if(this._maximum===b){return b}if(b<this._minimum){this._minimum=b;this.onMinimumChanged.notify(this,b)}this._maximum=b;this.onMaximumChanged.notify(this,b);if(this._value>b){this._value=b;this.onValueChanged.notify(this,b)}return b},isWrap:function(){return this._wrap},setWrap:function(a){this._wrap=(!a?false:true);return this._wrap},add:function(a){a+=this._value;if(this._wrap){if(a>this._maximum){a=((this._value!==this._maximum)?this._maximum:this._minimum)}else{if(a<this._minimum){a=((this._value!==this._minimum)?this._minimum:this._maximum)}}}return this.setValue(a)},createControl:function(c,a,b,d){return new NumericUpDownView(this,c,a,undefined,b,d)},replaceControl:function(c,b,a){return new NumericUpDownView(this,b,a,c)}};freeze$(NumericUpDown.prototype);function TabHeaderView(a,e,d,f){this.tabHeaderModel=a;this.hasFocus=false;this.tablist=(e?Elem.replace("div",e):Elem.create("div",d,f));this.tablist.view=this;this.tablist.tabIndex=0;this.tablist.setAttribute("role","tablist");this.tablist.setAttribute("aria-activedescendant","");this.tablist.className="TL WCTRL";Elem.prepareUserSelection(this.tablist);attachObserver(this.tablist,"focus",TabHeaderView.prototype.tablist_Focus);attachObserver(this.tablist,"blur",TabHeaderView.prototype.tablist_Blur);if(!_isTouch){attachMouse(this.tablist,"mousedown",TabHeaderView.prototype.tablist_MouseDown)}attachMouse(this.tablist,"click",TabHeaderView.prototype.tablist_Click);attachRepeatableKey(this.tablist,TabHeaderView.prototype.tablist_Key);var b,c;for(b=0;b<a.tabCount();b++){c=document.createElement("div");c.setAttribute("role","tab");c.id=Elem.newId();c._index=b;c.innerHTML=a.getTabCaption(b);c.className=(a.isTabSelected(b)?"T TS":"T");c.setAttribute("aria-selected",a.isTabSelected(b)?"true":"false");if(a.isTabSelected(b)){this.tablist.setAttribute("aria-activedescendant",c.id)}this.tablist.appendChild(c)}a.onSelectedTabIndexChanged.attach(TabHeaderView.prototype.model_tabChanged,this);seal$(this)}TabHeaderView.prototype={tablist_MouseDown:function(a){this.focus();return((!a.button&&!_cssUserSelection)?cancelEvent(a):true)},tablist_Click:function(b){var a=b.target;this.focus();if(!b.button&&a&&a._index!==undefined){this.view.tabHeaderModel.setSelectedTabIndex(a._index)}return true},tablist_Focus:function(){var a=this.view;a.tablist.childNodes[a.tabHeaderModel.getSelectedTabIndex()].className="T TS FCS";a.hasFocus=true;return true},tablist_Blur:function(){var a=this.view;a.tablist.childNodes[a.tabHeaderModel.getSelectedTabIndex()].className="T TS";this.view.hasFocus=false;return true},tablist_Key:function(c){var b=this.view.tabHeaderModel,a;switch(c.keyCode){case 37:case 38:a=b.getSelectedTabIndex();b.setSelectedTabIndex(a?(a-1):(b.tabCount()-1));return cancelEvent(c);case 39:case 40:a=b.getSelectedTabIndex();b.setSelectedTabIndex((a===(b.tabCount()-1))?0:(a+1));return cancelEvent(c)}return true},model_tabChanged:function(b,a,d){var c=this.tablist.childNodes[d];c.className="T";c.setAttribute("aria-selected","false");c=this.tablist.childNodes[a];c.className=(this.hasFocus?"T TS FCS":"T TS");c.setAttribute("aria-selected","true");this.tablist.setAttribute("aria-activedescendant",c.id);Elem.hide(b.getTabPage(d));Elem.show(b.getTabPage(a));return true},getStyle:function(){return this.tablist.style}};freeze$(TabHeaderView.prototype);function TabHeader(a,e,f){var d,c,b=(arguments.length+1)>>>1;if(b<1){throw"Não há tabs definidos!"}this._tabIndex=0;this._tabs=new List();for(c=0;c<b;c++){d={tabCaption:arguments[(c<<1)],tabPage:arguments[(c<<1)+1]};if(d.tabPage){d.tabPage.setAttribute("role","tabpanel");if(d.tabPage.className.indexOf("_HID")>=0){d.tabPage.setAttribute("aria-hidden","true")}}seal$(d);this._tabs.addLast(d)}this.onTabCaptionChanged=new ObserverList();this.onSelectedTabIndexChanging=new ObserverList();this.onSelectedTabIndexChanged=new ObserverList()}TabHeader.prototype={isTabSelected:function(a){return(this._tabIndex===a)},getTabPage:function(a){return this._tabs.getItem(a).tabPage},getTabCaption:function(a){return this._tabs.getItem(a).tabCaption},setTabCaption:function(a,b){this._tabs.getItem(a).tabCaption=b;this.onTabCaptionChanged.notify(this,a,b);return b},getSelectedTabIndex:function(){return this._tabIndex},setSelectedTabIndex:function(b){var d,c=this._tabIndex;if(c===b){return b}if(b<0||b>=this._tabs.count()){return c}d={cancel:false};this.onSelectedTabIndexChanging.notify(this,b,c,d);if(d.cancel===true){return c}this._tabIndex=b;this.onSelectedTabIndexChanged.notify(this,b,c);return b},tabCount:function(){return this._tabs.count()},createControl:function(a,b){return new TabHeaderView(this,undefined,a,b)},replaceControl:function(a){return new TabHeaderView(this,a)}};freeze$(TabHeader.prototype);function trim(a){return a.replace(/^\s+|\s+$/g,"")}function ltrim(a){return a.replace(/^\s+/,"")}function rtrim(a){return a.replace(/\s+$/,"")}window.BasicLayout={shareFB:function(){return window.open("https://www.facebook.com/sharer.php?u="+encodeURIComponent(window.location.href),"_blank","toolbar=no,menubar=no,width=700,height=350")},shareGP:function(){return window.open("https://plusone.google.com/_/+1/confirm?hl=en&url="+encodeURIComponent(window.location.href)+"&title="+encodeURIComponent(document.title),"_blank","toolbar=no,menubar=no,width=550,height=350")},shareTW:function(){var a=encodeURIComponent(window.location.href);return window.open("https://twitter.com/intent/tweet?original_referer="+a+"&source=tweetbutton&text="+encodeURIComponent(document.title)+"&url="+a,"_blank","toolbar=no,menubar=no,width=550,height=350")},loadComments:function(d){var c,a=$("FTRCMTLOAD");a.onclick=undefined;a.style.cursor="default";a.innerHTML='<img alt="Espera" src="images/wait.gif" style="width:11px;height:11px;vertical-align:middle;margin-right:4px" />Carregando coment&aacute;rios...';c=document.createElement("script");c.type="text/javascript";c.charset="utf-8";c.src="/Comments.js";document.head.appendChild(c);return cancelEvent(d)},loadFBComments:function(g){var a=$("FTRCMTLOADFB"),c=BasicLayout.getBasicElements().InnerContainer,h,d=false,f;a.parentNode.removeChild(a);a=document.createElement("h1");a.appendChild(document.createTextNode("Comentários do Facebook"));c.appendChild(a);a=document.createElement("div");a.id="fb-root";c.appendChild(a);a=document.createElement("div");h=window.location.href;if(h.length<5){d=true}else{f=h.lastIndexOf(".");if(f<0){d=true}else{f=h.substring(f+1).toLowerCase();if(f!=="html"&&f!=="htm"&&f!=="aspx"){d=true}}}if(d){if(h.charAt(h.length-1)!=="/"){h+="/"}h+="index.html"}a.setAttribute("data-href",h);a.setAttribute("data-num-posts","25");a.setAttribute("data-width","500px");a.style.textAlign="center";a.style.display="block";a.className="fb-comments";c.appendChild(a);a=document.createElement("meta");a.property="fb:admins";a.content="carlosrafaelgn";document.head.appendChild(a);a=document.createElement("script");a.id="facebook-jssdk";a.src="//connect.facebook.net/en_US/all.js#xfbml=1";document.head.appendChild(a);return cancelEvent(g)},goTo:function(a,b){if(b){window.open(a,"_blank")}else{window.location.href=a}return true},goBack:function(){return window.history.back()},header:function(a,b){var e=16,d,c;Elem.controlHeight=e<<1;Elem.itemHeight=Elem.controlHeight-2;Elem.smallControlHeight=(Elem.controlHeight>>>1);Elem.treeControlHeight=Elem.itemHeight>>>1;Elem.iconHeight=24;Elem._ratioEm=13;Elem._ratioPt=96/72;if(window._isFullScreen){d=document.createElement("style");d.type="text/css";d.innerHTML="body{background:#fdecbd;margin:0px}.MainContainer{"+((window._isFullScreen===2)?"background:none;":"")+"margin:0px;position:absolute;top:0px;left:0px;right:0px;bottom:0px;min-width:0px;max-width:99999px}.PageCaption{margin:0px;font-size:20px;line-height:"+(Elem.controlHeight-8)+"px}";document.head.appendChild(d)}d=$("_B1");Elem.text(b||document.title,d);if(a){e=document.createElement("a");e.title="Ir para a página inicial";e.href="http://carlosrafaelgn.com.br";e.className="LNK BTNTLB SBTN";e.style.position="absolute";e.style.marginTop="-"+(Elem.controlHeight>>>1)+"px";e.style.top="50%";e.style.right=(window._isFullScreen?"0px":"4px");c=document.createElement("img");c.className="MICON";c.src="images/btnhome.png";c.alt="Ir para a página inicial";e.appendChild(c);d.appendChild(e)}return true},footer:function(b){var a=$("_B3");window._cssUserSelection=("MozUserSelect" in a.style);if(window._isFullScreen){a.style.position="absolute";a.style.left="0px";a.style.right="0px";a.style.bottom="0px"}if(b!==undefined){if(b=="[Ninguém]"){a.innerHTML='<div class="FTRCMT"><div class="LBL TXTLBL">Conectado como: '+b+"</div></div>"}else{a.innerHTML='<div class="FTRCMT"><a class="LNK BTNTLB" href="Logout.ashx">Desconectar</a><div class="TLBSEP"></div><div class="_ML4 LBL TXTLBL">Conectado como: '+b+"</div></div>"}}else{a.innerHTML='<div class="FTRCMT _TAC"><div title="Compartilhar no Facebook" class="BTN BTNTLB SML SBTN _MR4" onclick="BasicLayout.shareFB()"><img class="MICON" alt="Compartilhar no Facebook" src="images/btnfb.png" /></div><div title="Compartilhar no Google+" class="BTN BTNTLB SML SBTN _MR4" onclick="BasicLayout.shareGP()"><img class="MICON" alt="Compartilhar no Goggle+" src="images/btngp.png" /></div><div title="Compartilhar no Twitter" class="BTN BTNTLB SML SBTN _MR4" onclick="BasicLayout.shareTW()"><img class="MICON" alt="Compartilhar no Twitter" src="images/btntw.png" /></div><div class="TLBSEP"></div><div class="BTN BTNTLB SML _ML4" id="FTRCMTLOAD">Ver coment&aacute;rios...</div><div class="BTN BTNTLB SML _ML4" id="FTRCMTLOADFB">Ver coment&aacute;rios do Facebook...</div><a class="LNK BTNTLB SML _ML4" href="http://www.w3.org/QA/Tools/Donate" title="W3C Validator Donation Program">I &#9829; Validator</a></div><div class="FTR">carlosrafaelgn @ <a href="http://github.com/carlosrafaelgn">GitHub</a> | <a href="http://pt.stackoverflow.com/users/7998/carlosrafaelgn">pt.stackoverflow</a> | <a href="http://facebook.com/carlosrafaelgn">Facebook</a> | <a href="http://twitter.com/carlosrafaelgn">Twitter</a> | <a href="http://lattes.cnpq.br/2601249960546013">Lattes</a> | <a href="http://br.linkedin.com/in/carlosrafaelgn">LinkedIn</a></div>'}Elem.init();if($("FTRCMTLOAD")){attachMouse($("FTRCMTLOAD"),"click",BasicLayout.loadComments)}if($("FTRCMTLOADFB")){attachMouse($("FTRCMTLOADFB"),"click",BasicLayout.loadFBComments)}return main()},getBasicElements:function(){return{MainContainer:$("_B0"),PageCaption:$("_B1"),InnerContainer:$("_B2"),Footer:$("_B3")}}};freeze$(window.BasicLayout);
